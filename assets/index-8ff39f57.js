import{g as Ms,c as _s,b as Cn,_ as Ti,r as Ht,j as R}from"./index-649cdf2d.js";import{F as fe,a as Ni,I as Ce,S as Me,T as he,C as As,B as me,P as Ts,U as Ns,b as bs,c as bi,D as Ri,L as Rs,n as de,m as xi,d as xs,E as Ss,e as Os}from"./index-384839cd.js";const Is="logger/5.7.0";let Si=!1,Oi=!1;const Fe={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ii=Fe.default,Er=null;function Ps(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const Pi=Ps();var qr;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(qr||(qr={}));var $t;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})($t||($t={}));const ki="0123456789abcdef";let Ct=class At{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const n=t.toLowerCase();Fe[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Ii>Fe[n])&&console.log.apply(console,r)}debug(...t){this._log(At.levels.DEBUG,t)}info(...t){this._log(At.levels.INFO,t)}warn(...t){this._log(At.levels.WARNING,t)}makeError(t,r,n){if(Oi)return this.makeError("censored error",r,{});r||(r=At.errors.UNKNOWN_ERROR),n||(n={});const l=[];Object.keys(n).forEach(M=>{const E=n[M];try{if(E instanceof Uint8Array){let A="";for(let w=0;w<E.length;w++)A+=ki[E[w]>>4],A+=ki[E[w]&15];l.push(M+"=Uint8Array(0x"+A+")")}else l.push(M+"="+JSON.stringify(E))}catch{l.push(M+"="+JSON.stringify(n[M].toString()))}}),l.push(`code=${r}`),l.push(`version=${this.version}`);const o=t;let g="";switch(r){case $t.NUMERIC_FAULT:{g="NUMERIC_FAULT";const M=t;switch(M){case"overflow":case"underflow":case"division-by-zero":g+="-"+M;break;case"negative-power":case"negative-width":g+="-unsupported";break;case"unbound-bitwise-result":g+="-unbound-result";break}break}case $t.CALL_EXCEPTION:case $t.INSUFFICIENT_FUNDS:case $t.MISSING_NEW:case $t.NONCE_EXPIRED:case $t.REPLACEMENT_UNDERPRICED:case $t.TRANSACTION_REPLACED:case $t.UNPREDICTABLE_GAS_LIMIT:g=r;break}g&&(t+=" [ See: https://links.ethers.org/v5-errors-"+g+" ]"),l.length&&(t+=" ("+l.join(", ")+")");const y=new Error(t);return y.reason=o,y.code=r,Object.keys(n).forEach(function(M){y[M]=n[M]}),y}throwError(t,r,n){throw this.makeError(t,r,n)}throwArgumentError(t,r,n){return this.throwError(t,At.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(t,r,n,l){t||this.throwError(r,n,l)}assertArgument(t,r,n,l){t||this.throwArgumentError(r,n,l)}checkNormalize(t){Pi&&this.throwError("platform missing String.prototype.normalize",At.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Pi})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,At.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,At.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,n){n?n=": "+n:n="",t<r&&this.throwError("missing argument"+n,At.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,At.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",At.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",At.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",At.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Er||(Er=new At(Is)),Er}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",At.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Si){if(!t)return;this.globalLogger().throwError("error censorship permanent",At.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Oi=!!t,Si=!!r}static setLogLevel(t){const r=Fe[t.toLowerCase()];if(r==null){At.globalLogger().warn("invalid log level - "+t);return}Ii=r}static from(t){return new At(t)}};Ct.errors=$t;Ct.levels=qr;const ks="bytes/5.7.0",G=new Ct(ks);function Fn(e){return!!e.toHexString}function ye(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return ye(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Cs(e){return Ft(e)&&!(e.length%2)||we(e)}function Ci(e){return typeof e=="number"&&e==e&&e%1===0}function we(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!Ci(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Ci(r)||r<0||r>=256)return!1}return!0}function ce(e,t){if(t||(t={}),typeof e=="number"){G.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),ye(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Fn(e)&&(e=e.toHexString()),Ft(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":G.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let l=0;l<r.length;l+=2)n.push(parseInt(r.substring(l,l+2),16));return ye(new Uint8Array(n))}return we(e)?ye(new Uint8Array(e)):G.throwArgumentError("invalid arrayify value","value",e)}function kl(e){const t=e.map(l=>ce(l)),r=t.reduce((l,o)=>l+o.length,0),n=new Uint8Array(r);return t.reduce((l,o)=>(n.set(o,l),l+o.length),0),ye(n)}function Cl(e){let t=ce(e);if(t.length===0)return t;let r=0;for(;r<t.length&&t[r]===0;)r++;return r&&(t=t.slice(r)),t}function Fs(e,t){e=ce(e),e.length>t&&G.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),ye(r)}function Ft(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const wr="0123456789abcdef";function It(e,t){if(t||(t={}),typeof e=="number"){G.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=wr[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Fn(e))return e.toHexString();if(Ft(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":G.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(we(e)){let r="0x";for(let n=0;n<e.length;n++){let l=e[n];r+=wr[(l&240)>>4]+wr[l&15]}return r}return G.throwArgumentError("invalid hexlify value","value",e)}function Fl(e){if(typeof e!="string")e=It(e);else if(!Ft(e)||e.length%2)return null;return(e.length-2)/2}function Ul(e,t,r){return typeof e!="string"?e=It(e):(!Ft(e)||e.length%2)&&G.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Bl(e){let t="0x";return e.forEach(r=>{t+=It(r).substring(2)}),t}function Us(e){const t=Un(It(e,{hexPad:"left"}));return t==="0x"?"0x0":t}function Un(e){typeof e!="string"&&(e=It(e)),Ft(e)||G.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&e[t]==="0";)t++;return"0x"+e.substring(t)}function _e(e,t){for(typeof e!="string"?e=It(e):Ft(e)||G.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&G.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function Dl(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Cs(e)){let r=ce(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=It(r.slice(0,32)),t.s=It(r.slice(32,64))):r.length===65?(t.r=It(r.slice(0,32)),t.s=It(r.slice(32,64)),t.v=r[64]):G.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:G.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=It(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const l=Fs(ce(t._vs),32);t._vs=It(l);const o=l[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=o:t.recoveryParam!==o&&G.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),l[0]&=127;const g=It(l);t.s==null?t.s=g:t.s!==g&&G.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?G.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const l=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==l&&G.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!Ft(t.r)?G.throwArgumentError("signature missing or invalid r","signature",e):t.r=_e(t.r,32),t.s==null||!Ft(t.s)?G.throwArgumentError("signature missing or invalid s","signature",e):t.s=_e(t.s,32);const r=ce(t.s);r[0]>=128&&G.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=It(r);t._vs&&(Ft(t._vs)||G.throwArgumentError("signature invalid _vs","signature",e),t._vs=_e(t._vs,32)),t._vs==null?t._vs=n:t._vs!==n&&G.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var Jr={exports:{}};const Bs={},Ds=Object.freeze(Object.defineProperty({__proto__:null,default:Bs},Symbol.toStringTag,{value:"Module"})),Ls=Ms(Ds);Jr.exports;(function(e){(function(t,r){function n(m,i){if(!m)throw new Error(i||"Assertion failed")}function l(m,i){m.super_=i;var a=function(){};a.prototype=i.prototype,m.prototype=new a,m.prototype.constructor=m}function o(m,i,a){if(o.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((i==="le"||i==="be")&&(a=i,i=10),this._init(m||0,i||10,a||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var g;try{typeof window<"u"&&typeof window.Buffer<"u"?g=window.Buffer:g=Ls.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,a){return i.cmp(a)>0?i:a},o.min=function(i,a){return i.cmp(a)<0?i:a},o.prototype._init=function(i,a,u){if(typeof i=="number")return this._initNumber(i,a,u);if(typeof i=="object")return this._initArray(i,a,u);a==="hex"&&(a=16),n(a===(a|0)&&a>=2&&a<=36),i=i.toString().replace(/\s+/g,"");var f=0;i[0]==="-"&&(f++,this.negative=1),f<i.length&&(a===16?this._parseHex(i,f,u):(this._parseBase(i,a,f),u==="le"&&this._initArray(this.toArray(),a,u)))},o.prototype._initNumber=function(i,a,u){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(n(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),a,u)},o.prototype._initArray=function(i,a,u){if(n(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var d,v,p=0;if(u==="be")for(f=i.length-1,d=0;f>=0;f-=3)v=i[f]|i[f-1]<<8|i[f-2]<<16,this.words[d]|=v<<p&67108863,this.words[d+1]=v>>>26-p&67108863,p+=24,p>=26&&(p-=26,d++);else if(u==="le")for(f=0,d=0;f<i.length;f+=3)v=i[f]|i[f+1]<<8|i[f+2]<<16,this.words[d]|=v<<p&67108863,this.words[d+1]=v>>>26-p&67108863,p+=24,p>=26&&(p-=26,d++);return this._strip()};function y(m,i){var a=m.charCodeAt(i);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;n(!1,"Invalid character in "+m)}function M(m,i,a){var u=y(m,a);return a-1>=i&&(u|=y(m,a-1)<<4),u}o.prototype._parseHex=function(i,a,u){this.length=Math.ceil((i.length-a)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var d=0,v=0,p;if(u==="be")for(f=i.length-1;f>=a;f-=2)p=M(i,a,f)<<d,this.words[v]|=p&67108863,d>=18?(d-=18,v+=1,this.words[v]|=p>>>26):d+=8;else{var h=i.length-a;for(f=h%2===0?a+1:a;f<i.length;f+=2)p=M(i,a,f)<<d,this.words[v]|=p&67108863,d>=18?(d-=18,v+=1,this.words[v]|=p>>>26):d+=8}this._strip()};function E(m,i,a,u){for(var f=0,d=0,v=Math.min(m.length,a),p=i;p<v;p++){var h=m.charCodeAt(p)-48;f*=u,h>=49?d=h-49+10:h>=17?d=h-17+10:d=h,n(h>=0&&d<u,"Invalid character"),f+=d}return f}o.prototype._parseBase=function(i,a,u){this.words=[0],this.length=1;for(var f=0,d=1;d<=67108863;d*=a)f++;f--,d=d/a|0;for(var v=i.length-u,p=v%f,h=Math.min(v,v-p)+u,s=0,c=u;c<h;c+=f)s=E(i,c,c+f,a),this.imuln(d),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(p!==0){var T=1;for(s=E(i,c,i.length,a),c=0;c<p;c++)T*=a;this.imuln(T),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},o.prototype.copy=function(i){i.words=new Array(this.length);for(var a=0;a<this.length;a++)i.words[a]=this.words[a];i.length=this.length,i.negative=this.negative,i.red=this.red};function A(m,i){m.words=i.words,m.length=i.length,m.negative=i.negative,m.red=i.red}if(o.prototype._move=function(i){A(i,this)},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=w}catch{o.prototype.inspect=w}else o.prototype.inspect=w;function w(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Bt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,a){i=i||10,a=a|0||1;var u;if(i===16||i==="hex"){u="";for(var f=0,d=0,v=0;v<this.length;v++){var p=this.words[v],h=((p<<f|d)&16777215).toString(16);d=p>>>24-f&16777215,f+=2,f>=26&&(f-=26,v--),d!==0||v!==this.length-1?u=x[6-h.length]+h+u:u=h+u}for(d!==0&&(u=d.toString(16)+u);u.length%a!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(i===(i|0)&&i>=2&&i<=36){var s=F[i],c=Bt[i];u="";var T=this.clone();for(T.negative=0;!T.isZero();){var N=T.modrn(c).toString(i);T=T.idivn(c),T.isZero()?u=N+u:u=x[s-N.length]+N+u}for(this.isZero()&&(u="0"+u);u.length%a!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16,2)},g&&(o.prototype.toBuffer=function(i,a){return this.toArrayLike(g,i,a)}),o.prototype.toArray=function(i,a){return this.toArrayLike(Array,i,a)};var Dt=function(i,a){return i.allocUnsafe?i.allocUnsafe(a):new i(a)};o.prototype.toArrayLike=function(i,a,u){this._strip();var f=this.byteLength(),d=u||Math.max(1,f);n(f<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0");var v=Dt(i,d),p=a==="le"?"LE":"BE";return this["_toArrayLike"+p](v,f),v},o.prototype._toArrayLikeLE=function(i,a){for(var u=0,f=0,d=0,v=0;d<this.length;d++){var p=this.words[d]<<v|f;i[u++]=p&255,u<i.length&&(i[u++]=p>>8&255),u<i.length&&(i[u++]=p>>16&255),v===6?(u<i.length&&(i[u++]=p>>24&255),f=0,v=0):(f=p>>>24,v+=2)}if(u<i.length)for(i[u++]=f;u<i.length;)i[u++]=0},o.prototype._toArrayLikeBE=function(i,a){for(var u=i.length-1,f=0,d=0,v=0;d<this.length;d++){var p=this.words[d]<<v|f;i[u--]=p&255,u>=0&&(i[u--]=p>>8&255),u>=0&&(i[u--]=p>>16&255),v===6?(u>=0&&(i[u--]=p>>24&255),f=0,v=0):(f=p>>>24,v+=2)}if(u>=0)for(i[u--]=f;u>=0;)i[u--]=0},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var a=i,u=0;return a>=4096&&(u+=13,a>>>=13),a>=64&&(u+=7,a>>>=7),a>=8&&(u+=4,a>>>=4),a>=2&&(u+=2,a>>>=2),u+a},o.prototype._zeroBits=function(i){if(i===0)return 26;var a=i,u=0;return a&8191||(u+=13,a>>>=13),a&127||(u+=7,a>>>=7),a&15||(u+=4,a>>>=4),a&3||(u+=2,a>>>=2),a&1||u++,u},o.prototype.bitLength=function(){var i=this.words[this.length-1],a=this._countBits(i);return(this.length-1)*26+a};function Gt(m){for(var i=new Array(m.bitLength()),a=0;a<i.length;a++){var u=a/26|0,f=a%26;i[a]=m.words[u]>>>f&1}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,a=0;a<this.length;a++){var u=this._zeroBits(this.words[a]);if(i+=u,u!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var a=0;a<i.length;a++)this.words[a]=this.words[a]|i.words[a];return this._strip()},o.prototype.ior=function(i){return n((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var a;this.length>i.length?a=i:a=this;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]&i.words[u];return this.length=a.length,this._strip()},o.prototype.iand=function(i){return n((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var a,u;this.length>i.length?(a=this,u=i):(a=i,u=this);for(var f=0;f<u.length;f++)this.words[f]=a.words[f]^u.words[f];if(this!==a)for(;f<a.length;f++)this.words[f]=a.words[f];return this.length=a.length,this._strip()},o.prototype.ixor=function(i){return n((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){n(typeof i=="number"&&i>=0);var a=Math.ceil(i/26)|0,u=i%26;this._expand(a),u>0&&a--;for(var f=0;f<a;f++)this.words[f]=~this.words[f]&67108863;return u>0&&(this.words[f]=~this.words[f]&67108863>>26-u),this._strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,a){n(typeof i=="number"&&i>=0);var u=i/26|0,f=i%26;return this._expand(u+1),a?this.words[u]=this.words[u]|1<<f:this.words[u]=this.words[u]&~(1<<f),this._strip()},o.prototype.iadd=function(i){var a;if(this.negative!==0&&i.negative===0)return this.negative=0,a=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,a=this.isub(i),i.negative=1,a._normSign();var u,f;this.length>i.length?(u=this,f=i):(u=i,f=this);for(var d=0,v=0;v<f.length;v++)a=(u.words[v]|0)+(f.words[v]|0)+d,this.words[v]=a&67108863,d=a>>>26;for(;d!==0&&v<u.length;v++)a=(u.words[v]|0)+d,this.words[v]=a&67108863,d=a>>>26;if(this.length=u.length,d!==0)this.words[this.length]=d,this.length++;else if(u!==this)for(;v<u.length;v++)this.words[v]=u.words[v];return this},o.prototype.add=function(i){var a;return i.negative!==0&&this.negative===0?(i.negative=0,a=this.sub(i),i.negative^=1,a):i.negative===0&&this.negative!==0?(this.negative=0,a=i.sub(this),this.negative=1,a):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var a=this.iadd(i);return i.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var u=this.cmp(i);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,d;u>0?(f=this,d=i):(f=i,d=this);for(var v=0,p=0;p<d.length;p++)a=(f.words[p]|0)-(d.words[p]|0)+v,v=a>>26,this.words[p]=a&67108863;for(;v!==0&&p<f.length;p++)a=(f.words[p]|0)+v,v=a>>26,this.words[p]=a&67108863;if(v===0&&p<f.length&&f!==this)for(;p<f.length;p++)this.words[p]=f.words[p];return this.length=Math.max(this.length,p),f!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function zt(m,i,a){a.negative=i.negative^m.negative;var u=m.length+i.length|0;a.length=u,u=u-1|0;var f=m.words[0]|0,d=i.words[0]|0,v=f*d,p=v&67108863,h=v/67108864|0;a.words[0]=p;for(var s=1;s<u;s++){for(var c=h>>>26,T=h&67108863,N=Math.min(s,i.length-1),b=Math.max(0,s-m.length+1);b<=N;b++){var Tt=s-b|0;f=m.words[Tt]|0,d=i.words[b]|0,v=f*d+T,c+=v/67108864|0,T=v&67108863}a.words[s]=T|0,h=c|0}return h!==0?a.words[s]=h|0:a.length--,a._strip()}var Wt=function(i,a,u){var f=i.words,d=a.words,v=u.words,p=0,h,s,c,T=f[0]|0,N=T&8191,b=T>>>13,Tt=f[1]|0,C=Tt&8191,U=Tt>>>13,Yt=f[2]|0,D=Yt&8191,L=Yt>>>13,ai=f[3]|0,H=ai&8191,K=ai>>>13,li=f[4]|0,j=li&8191,z=li>>>13,ui=f[5]|0,W=ui&8191,$=ui>>>13,fi=f[6]|0,V=fi&8191,J=fi>>>13,hi=f[7]|0,Y=hi&8191,Z=hi>>>13,di=f[8]|0,X=di&8191,Q=di>>>13,ci=f[9]|0,tt=ci&8191,et=ci>>>13,mi=d[0]|0,rt=mi&8191,it=mi>>>13,vi=d[1]|0,nt=vi&8191,st=vi>>>13,gi=d[2]|0,ot=gi&8191,at=gi>>>13,pi=d[3]|0,lt=pi&8191,ut=pi>>>13,yi=d[4]|0,ft=yi&8191,ht=yi>>>13,Ei=d[5]|0,dt=Ei&8191,ct=Ei>>>13,wi=d[6]|0,mt=wi&8191,vt=wi>>>13,Mi=d[7]|0,gt=Mi&8191,pt=Mi>>>13,_i=d[8]|0,yt=_i&8191,Et=_i>>>13,Ai=d[9]|0,wt=Ai&8191,Mt=Ai>>>13;u.negative=i.negative^a.negative,u.length=19,h=Math.imul(N,rt),s=Math.imul(N,it),s=s+Math.imul(b,rt)|0,c=Math.imul(b,it);var tr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(tr>>>26)|0,tr&=67108863,h=Math.imul(C,rt),s=Math.imul(C,it),s=s+Math.imul(U,rt)|0,c=Math.imul(U,it),h=h+Math.imul(N,nt)|0,s=s+Math.imul(N,st)|0,s=s+Math.imul(b,nt)|0,c=c+Math.imul(b,st)|0;var er=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(er>>>26)|0,er&=67108863,h=Math.imul(D,rt),s=Math.imul(D,it),s=s+Math.imul(L,rt)|0,c=Math.imul(L,it),h=h+Math.imul(C,nt)|0,s=s+Math.imul(C,st)|0,s=s+Math.imul(U,nt)|0,c=c+Math.imul(U,st)|0,h=h+Math.imul(N,ot)|0,s=s+Math.imul(N,at)|0,s=s+Math.imul(b,ot)|0,c=c+Math.imul(b,at)|0;var rr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(rr>>>26)|0,rr&=67108863,h=Math.imul(H,rt),s=Math.imul(H,it),s=s+Math.imul(K,rt)|0,c=Math.imul(K,it),h=h+Math.imul(D,nt)|0,s=s+Math.imul(D,st)|0,s=s+Math.imul(L,nt)|0,c=c+Math.imul(L,st)|0,h=h+Math.imul(C,ot)|0,s=s+Math.imul(C,at)|0,s=s+Math.imul(U,ot)|0,c=c+Math.imul(U,at)|0,h=h+Math.imul(N,lt)|0,s=s+Math.imul(N,ut)|0,s=s+Math.imul(b,lt)|0,c=c+Math.imul(b,ut)|0;var ir=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(ir>>>26)|0,ir&=67108863,h=Math.imul(j,rt),s=Math.imul(j,it),s=s+Math.imul(z,rt)|0,c=Math.imul(z,it),h=h+Math.imul(H,nt)|0,s=s+Math.imul(H,st)|0,s=s+Math.imul(K,nt)|0,c=c+Math.imul(K,st)|0,h=h+Math.imul(D,ot)|0,s=s+Math.imul(D,at)|0,s=s+Math.imul(L,ot)|0,c=c+Math.imul(L,at)|0,h=h+Math.imul(C,lt)|0,s=s+Math.imul(C,ut)|0,s=s+Math.imul(U,lt)|0,c=c+Math.imul(U,ut)|0,h=h+Math.imul(N,ft)|0,s=s+Math.imul(N,ht)|0,s=s+Math.imul(b,ft)|0,c=c+Math.imul(b,ht)|0;var nr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(nr>>>26)|0,nr&=67108863,h=Math.imul(W,rt),s=Math.imul(W,it),s=s+Math.imul($,rt)|0,c=Math.imul($,it),h=h+Math.imul(j,nt)|0,s=s+Math.imul(j,st)|0,s=s+Math.imul(z,nt)|0,c=c+Math.imul(z,st)|0,h=h+Math.imul(H,ot)|0,s=s+Math.imul(H,at)|0,s=s+Math.imul(K,ot)|0,c=c+Math.imul(K,at)|0,h=h+Math.imul(D,lt)|0,s=s+Math.imul(D,ut)|0,s=s+Math.imul(L,lt)|0,c=c+Math.imul(L,ut)|0,h=h+Math.imul(C,ft)|0,s=s+Math.imul(C,ht)|0,s=s+Math.imul(U,ft)|0,c=c+Math.imul(U,ht)|0,h=h+Math.imul(N,dt)|0,s=s+Math.imul(N,ct)|0,s=s+Math.imul(b,dt)|0,c=c+Math.imul(b,ct)|0;var sr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(sr>>>26)|0,sr&=67108863,h=Math.imul(V,rt),s=Math.imul(V,it),s=s+Math.imul(J,rt)|0,c=Math.imul(J,it),h=h+Math.imul(W,nt)|0,s=s+Math.imul(W,st)|0,s=s+Math.imul($,nt)|0,c=c+Math.imul($,st)|0,h=h+Math.imul(j,ot)|0,s=s+Math.imul(j,at)|0,s=s+Math.imul(z,ot)|0,c=c+Math.imul(z,at)|0,h=h+Math.imul(H,lt)|0,s=s+Math.imul(H,ut)|0,s=s+Math.imul(K,lt)|0,c=c+Math.imul(K,ut)|0,h=h+Math.imul(D,ft)|0,s=s+Math.imul(D,ht)|0,s=s+Math.imul(L,ft)|0,c=c+Math.imul(L,ht)|0,h=h+Math.imul(C,dt)|0,s=s+Math.imul(C,ct)|0,s=s+Math.imul(U,dt)|0,c=c+Math.imul(U,ct)|0,h=h+Math.imul(N,mt)|0,s=s+Math.imul(N,vt)|0,s=s+Math.imul(b,mt)|0,c=c+Math.imul(b,vt)|0;var or=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(or>>>26)|0,or&=67108863,h=Math.imul(Y,rt),s=Math.imul(Y,it),s=s+Math.imul(Z,rt)|0,c=Math.imul(Z,it),h=h+Math.imul(V,nt)|0,s=s+Math.imul(V,st)|0,s=s+Math.imul(J,nt)|0,c=c+Math.imul(J,st)|0,h=h+Math.imul(W,ot)|0,s=s+Math.imul(W,at)|0,s=s+Math.imul($,ot)|0,c=c+Math.imul($,at)|0,h=h+Math.imul(j,lt)|0,s=s+Math.imul(j,ut)|0,s=s+Math.imul(z,lt)|0,c=c+Math.imul(z,ut)|0,h=h+Math.imul(H,ft)|0,s=s+Math.imul(H,ht)|0,s=s+Math.imul(K,ft)|0,c=c+Math.imul(K,ht)|0,h=h+Math.imul(D,dt)|0,s=s+Math.imul(D,ct)|0,s=s+Math.imul(L,dt)|0,c=c+Math.imul(L,ct)|0,h=h+Math.imul(C,mt)|0,s=s+Math.imul(C,vt)|0,s=s+Math.imul(U,mt)|0,c=c+Math.imul(U,vt)|0,h=h+Math.imul(N,gt)|0,s=s+Math.imul(N,pt)|0,s=s+Math.imul(b,gt)|0,c=c+Math.imul(b,pt)|0;var ar=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(ar>>>26)|0,ar&=67108863,h=Math.imul(X,rt),s=Math.imul(X,it),s=s+Math.imul(Q,rt)|0,c=Math.imul(Q,it),h=h+Math.imul(Y,nt)|0,s=s+Math.imul(Y,st)|0,s=s+Math.imul(Z,nt)|0,c=c+Math.imul(Z,st)|0,h=h+Math.imul(V,ot)|0,s=s+Math.imul(V,at)|0,s=s+Math.imul(J,ot)|0,c=c+Math.imul(J,at)|0,h=h+Math.imul(W,lt)|0,s=s+Math.imul(W,ut)|0,s=s+Math.imul($,lt)|0,c=c+Math.imul($,ut)|0,h=h+Math.imul(j,ft)|0,s=s+Math.imul(j,ht)|0,s=s+Math.imul(z,ft)|0,c=c+Math.imul(z,ht)|0,h=h+Math.imul(H,dt)|0,s=s+Math.imul(H,ct)|0,s=s+Math.imul(K,dt)|0,c=c+Math.imul(K,ct)|0,h=h+Math.imul(D,mt)|0,s=s+Math.imul(D,vt)|0,s=s+Math.imul(L,mt)|0,c=c+Math.imul(L,vt)|0,h=h+Math.imul(C,gt)|0,s=s+Math.imul(C,pt)|0,s=s+Math.imul(U,gt)|0,c=c+Math.imul(U,pt)|0,h=h+Math.imul(N,yt)|0,s=s+Math.imul(N,Et)|0,s=s+Math.imul(b,yt)|0,c=c+Math.imul(b,Et)|0;var lr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(lr>>>26)|0,lr&=67108863,h=Math.imul(tt,rt),s=Math.imul(tt,it),s=s+Math.imul(et,rt)|0,c=Math.imul(et,it),h=h+Math.imul(X,nt)|0,s=s+Math.imul(X,st)|0,s=s+Math.imul(Q,nt)|0,c=c+Math.imul(Q,st)|0,h=h+Math.imul(Y,ot)|0,s=s+Math.imul(Y,at)|0,s=s+Math.imul(Z,ot)|0,c=c+Math.imul(Z,at)|0,h=h+Math.imul(V,lt)|0,s=s+Math.imul(V,ut)|0,s=s+Math.imul(J,lt)|0,c=c+Math.imul(J,ut)|0,h=h+Math.imul(W,ft)|0,s=s+Math.imul(W,ht)|0,s=s+Math.imul($,ft)|0,c=c+Math.imul($,ht)|0,h=h+Math.imul(j,dt)|0,s=s+Math.imul(j,ct)|0,s=s+Math.imul(z,dt)|0,c=c+Math.imul(z,ct)|0,h=h+Math.imul(H,mt)|0,s=s+Math.imul(H,vt)|0,s=s+Math.imul(K,mt)|0,c=c+Math.imul(K,vt)|0,h=h+Math.imul(D,gt)|0,s=s+Math.imul(D,pt)|0,s=s+Math.imul(L,gt)|0,c=c+Math.imul(L,pt)|0,h=h+Math.imul(C,yt)|0,s=s+Math.imul(C,Et)|0,s=s+Math.imul(U,yt)|0,c=c+Math.imul(U,Et)|0,h=h+Math.imul(N,wt)|0,s=s+Math.imul(N,Mt)|0,s=s+Math.imul(b,wt)|0,c=c+Math.imul(b,Mt)|0;var ur=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(ur>>>26)|0,ur&=67108863,h=Math.imul(tt,nt),s=Math.imul(tt,st),s=s+Math.imul(et,nt)|0,c=Math.imul(et,st),h=h+Math.imul(X,ot)|0,s=s+Math.imul(X,at)|0,s=s+Math.imul(Q,ot)|0,c=c+Math.imul(Q,at)|0,h=h+Math.imul(Y,lt)|0,s=s+Math.imul(Y,ut)|0,s=s+Math.imul(Z,lt)|0,c=c+Math.imul(Z,ut)|0,h=h+Math.imul(V,ft)|0,s=s+Math.imul(V,ht)|0,s=s+Math.imul(J,ft)|0,c=c+Math.imul(J,ht)|0,h=h+Math.imul(W,dt)|0,s=s+Math.imul(W,ct)|0,s=s+Math.imul($,dt)|0,c=c+Math.imul($,ct)|0,h=h+Math.imul(j,mt)|0,s=s+Math.imul(j,vt)|0,s=s+Math.imul(z,mt)|0,c=c+Math.imul(z,vt)|0,h=h+Math.imul(H,gt)|0,s=s+Math.imul(H,pt)|0,s=s+Math.imul(K,gt)|0,c=c+Math.imul(K,pt)|0,h=h+Math.imul(D,yt)|0,s=s+Math.imul(D,Et)|0,s=s+Math.imul(L,yt)|0,c=c+Math.imul(L,Et)|0,h=h+Math.imul(C,wt)|0,s=s+Math.imul(C,Mt)|0,s=s+Math.imul(U,wt)|0,c=c+Math.imul(U,Mt)|0;var fr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(fr>>>26)|0,fr&=67108863,h=Math.imul(tt,ot),s=Math.imul(tt,at),s=s+Math.imul(et,ot)|0,c=Math.imul(et,at),h=h+Math.imul(X,lt)|0,s=s+Math.imul(X,ut)|0,s=s+Math.imul(Q,lt)|0,c=c+Math.imul(Q,ut)|0,h=h+Math.imul(Y,ft)|0,s=s+Math.imul(Y,ht)|0,s=s+Math.imul(Z,ft)|0,c=c+Math.imul(Z,ht)|0,h=h+Math.imul(V,dt)|0,s=s+Math.imul(V,ct)|0,s=s+Math.imul(J,dt)|0,c=c+Math.imul(J,ct)|0,h=h+Math.imul(W,mt)|0,s=s+Math.imul(W,vt)|0,s=s+Math.imul($,mt)|0,c=c+Math.imul($,vt)|0,h=h+Math.imul(j,gt)|0,s=s+Math.imul(j,pt)|0,s=s+Math.imul(z,gt)|0,c=c+Math.imul(z,pt)|0,h=h+Math.imul(H,yt)|0,s=s+Math.imul(H,Et)|0,s=s+Math.imul(K,yt)|0,c=c+Math.imul(K,Et)|0,h=h+Math.imul(D,wt)|0,s=s+Math.imul(D,Mt)|0,s=s+Math.imul(L,wt)|0,c=c+Math.imul(L,Mt)|0;var hr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(hr>>>26)|0,hr&=67108863,h=Math.imul(tt,lt),s=Math.imul(tt,ut),s=s+Math.imul(et,lt)|0,c=Math.imul(et,ut),h=h+Math.imul(X,ft)|0,s=s+Math.imul(X,ht)|0,s=s+Math.imul(Q,ft)|0,c=c+Math.imul(Q,ht)|0,h=h+Math.imul(Y,dt)|0,s=s+Math.imul(Y,ct)|0,s=s+Math.imul(Z,dt)|0,c=c+Math.imul(Z,ct)|0,h=h+Math.imul(V,mt)|0,s=s+Math.imul(V,vt)|0,s=s+Math.imul(J,mt)|0,c=c+Math.imul(J,vt)|0,h=h+Math.imul(W,gt)|0,s=s+Math.imul(W,pt)|0,s=s+Math.imul($,gt)|0,c=c+Math.imul($,pt)|0,h=h+Math.imul(j,yt)|0,s=s+Math.imul(j,Et)|0,s=s+Math.imul(z,yt)|0,c=c+Math.imul(z,Et)|0,h=h+Math.imul(H,wt)|0,s=s+Math.imul(H,Mt)|0,s=s+Math.imul(K,wt)|0,c=c+Math.imul(K,Mt)|0;var dr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(dr>>>26)|0,dr&=67108863,h=Math.imul(tt,ft),s=Math.imul(tt,ht),s=s+Math.imul(et,ft)|0,c=Math.imul(et,ht),h=h+Math.imul(X,dt)|0,s=s+Math.imul(X,ct)|0,s=s+Math.imul(Q,dt)|0,c=c+Math.imul(Q,ct)|0,h=h+Math.imul(Y,mt)|0,s=s+Math.imul(Y,vt)|0,s=s+Math.imul(Z,mt)|0,c=c+Math.imul(Z,vt)|0,h=h+Math.imul(V,gt)|0,s=s+Math.imul(V,pt)|0,s=s+Math.imul(J,gt)|0,c=c+Math.imul(J,pt)|0,h=h+Math.imul(W,yt)|0,s=s+Math.imul(W,Et)|0,s=s+Math.imul($,yt)|0,c=c+Math.imul($,Et)|0,h=h+Math.imul(j,wt)|0,s=s+Math.imul(j,Mt)|0,s=s+Math.imul(z,wt)|0,c=c+Math.imul(z,Mt)|0;var cr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(cr>>>26)|0,cr&=67108863,h=Math.imul(tt,dt),s=Math.imul(tt,ct),s=s+Math.imul(et,dt)|0,c=Math.imul(et,ct),h=h+Math.imul(X,mt)|0,s=s+Math.imul(X,vt)|0,s=s+Math.imul(Q,mt)|0,c=c+Math.imul(Q,vt)|0,h=h+Math.imul(Y,gt)|0,s=s+Math.imul(Y,pt)|0,s=s+Math.imul(Z,gt)|0,c=c+Math.imul(Z,pt)|0,h=h+Math.imul(V,yt)|0,s=s+Math.imul(V,Et)|0,s=s+Math.imul(J,yt)|0,c=c+Math.imul(J,Et)|0,h=h+Math.imul(W,wt)|0,s=s+Math.imul(W,Mt)|0,s=s+Math.imul($,wt)|0,c=c+Math.imul($,Mt)|0;var mr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(mr>>>26)|0,mr&=67108863,h=Math.imul(tt,mt),s=Math.imul(tt,vt),s=s+Math.imul(et,mt)|0,c=Math.imul(et,vt),h=h+Math.imul(X,gt)|0,s=s+Math.imul(X,pt)|0,s=s+Math.imul(Q,gt)|0,c=c+Math.imul(Q,pt)|0,h=h+Math.imul(Y,yt)|0,s=s+Math.imul(Y,Et)|0,s=s+Math.imul(Z,yt)|0,c=c+Math.imul(Z,Et)|0,h=h+Math.imul(V,wt)|0,s=s+Math.imul(V,Mt)|0,s=s+Math.imul(J,wt)|0,c=c+Math.imul(J,Mt)|0;var vr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(vr>>>26)|0,vr&=67108863,h=Math.imul(tt,gt),s=Math.imul(tt,pt),s=s+Math.imul(et,gt)|0,c=Math.imul(et,pt),h=h+Math.imul(X,yt)|0,s=s+Math.imul(X,Et)|0,s=s+Math.imul(Q,yt)|0,c=c+Math.imul(Q,Et)|0,h=h+Math.imul(Y,wt)|0,s=s+Math.imul(Y,Mt)|0,s=s+Math.imul(Z,wt)|0,c=c+Math.imul(Z,Mt)|0;var gr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(gr>>>26)|0,gr&=67108863,h=Math.imul(tt,yt),s=Math.imul(tt,Et),s=s+Math.imul(et,yt)|0,c=Math.imul(et,Et),h=h+Math.imul(X,wt)|0,s=s+Math.imul(X,Mt)|0,s=s+Math.imul(Q,wt)|0,c=c+Math.imul(Q,Mt)|0;var pr=(p+h|0)+((s&8191)<<13)|0;p=(c+(s>>>13)|0)+(pr>>>26)|0,pr&=67108863,h=Math.imul(tt,wt),s=Math.imul(tt,Mt),s=s+Math.imul(et,wt)|0,c=Math.imul(et,Mt);var yr=(p+h|0)+((s&8191)<<13)|0;return p=(c+(s>>>13)|0)+(yr>>>26)|0,yr&=67108863,v[0]=tr,v[1]=er,v[2]=rr,v[3]=ir,v[4]=nr,v[5]=sr,v[6]=or,v[7]=ar,v[8]=lr,v[9]=ur,v[10]=fr,v[11]=hr,v[12]=dr,v[13]=cr,v[14]=mr,v[15]=vr,v[16]=gr,v[17]=pr,v[18]=yr,p!==0&&(v[19]=p,u.length++),u};Math.imul||(Wt=zt);function re(m,i,a){a.negative=i.negative^m.negative,a.length=m.length+i.length;for(var u=0,f=0,d=0;d<a.length-1;d++){var v=f;f=0;for(var p=u&67108863,h=Math.min(d,i.length-1),s=Math.max(0,d-m.length+1);s<=h;s++){var c=d-s,T=m.words[c]|0,N=i.words[s]|0,b=T*N,Tt=b&67108863;v=v+(b/67108864|0)|0,Tt=Tt+p|0,p=Tt&67108863,v=v+(Tt>>>26)|0,f+=v>>>26,v&=67108863}a.words[d]=p,u=v,v=f}return u!==0?a.words[d]=u:a.length--,a._strip()}function S(m,i,a){return re(m,i,a)}o.prototype.mulTo=function(i,a){var u,f=this.length+i.length;return this.length===10&&i.length===10?u=Wt(this,i,a):f<63?u=zt(this,i,a):f<1024?u=re(this,i,a):u=S(this,i,a),u},o.prototype.mul=function(i){var a=new o(null);return a.words=new Array(this.length+i.length),this.mulTo(i,a)},o.prototype.mulf=function(i){var a=new o(null);return a.words=new Array(this.length+i.length),S(this,i,a)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){var a=i<0;a&&(i=-i),n(typeof i=="number"),n(i<67108864);for(var u=0,f=0;f<this.length;f++){var d=(this.words[f]|0)*i,v=(d&67108863)+(u&67108863);u>>=26,u+=d/67108864|0,u+=v>>>26,this.words[f]=v&67108863}return u!==0&&(this.words[f]=u,this.length++),a?this.ineg():this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var a=Gt(i);if(a.length===0)return new o(1);for(var u=this,f=0;f<a.length&&a[f]===0;f++,u=u.sqr());if(++f<a.length)for(var d=u.sqr();f<a.length;f++,d=d.sqr())a[f]!==0&&(u=u.mul(d));return u},o.prototype.iushln=function(i){n(typeof i=="number"&&i>=0);var a=i%26,u=(i-a)/26,f=67108863>>>26-a<<26-a,d;if(a!==0){var v=0;for(d=0;d<this.length;d++){var p=this.words[d]&f,h=(this.words[d]|0)-p<<a;this.words[d]=h|v,v=p>>>26-a}v&&(this.words[d]=v,this.length++)}if(u!==0){for(d=this.length-1;d>=0;d--)this.words[d+u]=this.words[d];for(d=0;d<u;d++)this.words[d]=0;this.length+=u}return this._strip()},o.prototype.ishln=function(i){return n(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,a,u){n(typeof i=="number"&&i>=0);var f;a?f=(a-a%26)/26:f=0;var d=i%26,v=Math.min((i-d)/26,this.length),p=67108863^67108863>>>d<<d,h=u;if(f-=v,f=Math.max(0,f),h){for(var s=0;s<v;s++)h.words[s]=this.words[s];h.length=v}if(v!==0)if(this.length>v)for(this.length-=v,s=0;s<this.length;s++)this.words[s]=this.words[s+v];else this.words[0]=0,this.length=1;var c=0;for(s=this.length-1;s>=0&&(c!==0||s>=f);s--){var T=this.words[s]|0;this.words[s]=c<<26-d|T>>>d,c=T&p}return h&&c!==0&&(h.words[h.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(i,a,u){return n(this.negative===0),this.iushrn(i,a,u)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){n(typeof i=="number"&&i>=0);var a=i%26,u=(i-a)/26,f=1<<a;if(this.length<=u)return!1;var d=this.words[u];return!!(d&f)},o.prototype.imaskn=function(i){n(typeof i=="number"&&i>=0);var a=i%26,u=(i-a)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(a!==0&&u++,this.length=Math.min(u,this.length),a!==0){var f=67108863^67108863>>>a<<a;this.words[this.length-1]&=f}return this._strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return n(typeof i=="number"),n(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<=i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},o.prototype.isubn=function(i){if(n(typeof i=="number"),n(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,a,u){var f=i.length+u,d;this._expand(f);var v,p=0;for(d=0;d<i.length;d++){v=(this.words[d+u]|0)+p;var h=(i.words[d]|0)*a;v-=h&67108863,p=(v>>26)-(h/67108864|0),this.words[d+u]=v&67108863}for(;d<this.length-u;d++)v=(this.words[d+u]|0)+p,p=v>>26,this.words[d+u]=v&67108863;if(p===0)return this._strip();for(n(p===-1),p=0,d=0;d<this.length;d++)v=-(this.words[d]|0)+p,p=v>>26,this.words[d]=v&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(i,a){var u=this.length-i.length,f=this.clone(),d=i,v=d.words[d.length-1]|0,p=this._countBits(v);u=26-p,u!==0&&(d=d.ushln(u),f.iushln(u),v=d.words[d.length-1]|0);var h=f.length-d.length,s;if(a!=="mod"){s=new o(null),s.length=h+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var T=f.clone()._ishlnsubmul(d,1,h);T.negative===0&&(f=T,s&&(s.words[h]=1));for(var N=h-1;N>=0;N--){var b=(f.words[d.length+N]|0)*67108864+(f.words[d.length+N-1]|0);for(b=Math.min(b/v|0,67108863),f._ishlnsubmul(d,b,N);f.negative!==0;)b--,f.negative=0,f._ishlnsubmul(d,1,N),f.isZero()||(f.negative^=1);s&&(s.words[N]=b)}return s&&s._strip(),f._strip(),a!=="div"&&u!==0&&f.iushrn(u),{div:s||null,mod:f}},o.prototype.divmod=function(i,a,u){if(n(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var f,d,v;return this.negative!==0&&i.negative===0?(v=this.neg().divmod(i,a),a!=="mod"&&(f=v.div.neg()),a!=="div"&&(d=v.mod.neg(),u&&d.negative!==0&&d.iadd(i)),{div:f,mod:d}):this.negative===0&&i.negative!==0?(v=this.divmod(i.neg(),a),a!=="mod"&&(f=v.div.neg()),{div:f,mod:v.mod}):this.negative&i.negative?(v=this.neg().divmod(i.neg(),a),a!=="div"&&(d=v.mod.neg(),u&&d.negative!==0&&d.isub(i)),{div:v.div,mod:d}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?a==="div"?{div:this.divn(i.words[0]),mod:null}:a==="mod"?{div:null,mod:new o(this.modrn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modrn(i.words[0]))}:this._wordDiv(i,a)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var a=this.divmod(i);if(a.mod.isZero())return a.div;var u=a.div.negative!==0?a.mod.isub(i):a.mod,f=i.ushrn(1),d=i.andln(1),v=u.cmp(f);return v<0||d===1&&v===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},o.prototype.modrn=function(i){var a=i<0;a&&(i=-i),n(i<=67108863);for(var u=(1<<26)%i,f=0,d=this.length-1;d>=0;d--)f=(u*f+(this.words[d]|0))%i;return a?-f:f},o.prototype.modn=function(i){return this.modrn(i)},o.prototype.idivn=function(i){var a=i<0;a&&(i=-i),n(i<=67108863);for(var u=0,f=this.length-1;f>=0;f--){var d=(this.words[f]|0)+u*67108864;this.words[f]=d/i|0,u=d%i}return this._strip(),a?this.ineg():this},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){n(i.negative===0),n(!i.isZero());var a=this,u=i.clone();a.negative!==0?a=a.umod(i):a=a.clone();for(var f=new o(1),d=new o(0),v=new o(0),p=new o(1),h=0;a.isEven()&&u.isEven();)a.iushrn(1),u.iushrn(1),++h;for(var s=u.clone(),c=a.clone();!a.isZero();){for(var T=0,N=1;!(a.words[0]&N)&&T<26;++T,N<<=1);if(T>0)for(a.iushrn(T);T-- >0;)(f.isOdd()||d.isOdd())&&(f.iadd(s),d.isub(c)),f.iushrn(1),d.iushrn(1);for(var b=0,Tt=1;!(u.words[0]&Tt)&&b<26;++b,Tt<<=1);if(b>0)for(u.iushrn(b);b-- >0;)(v.isOdd()||p.isOdd())&&(v.iadd(s),p.isub(c)),v.iushrn(1),p.iushrn(1);a.cmp(u)>=0?(a.isub(u),f.isub(v),d.isub(p)):(u.isub(a),v.isub(f),p.isub(d))}return{a:v,b:p,gcd:u.iushln(h)}},o.prototype._invmp=function(i){n(i.negative===0),n(!i.isZero());var a=this,u=i.clone();a.negative!==0?a=a.umod(i):a=a.clone();for(var f=new o(1),d=new o(0),v=u.clone();a.cmpn(1)>0&&u.cmpn(1)>0;){for(var p=0,h=1;!(a.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(a.iushrn(p);p-- >0;)f.isOdd()&&f.iadd(v),f.iushrn(1);for(var s=0,c=1;!(u.words[0]&c)&&s<26;++s,c<<=1);if(s>0)for(u.iushrn(s);s-- >0;)d.isOdd()&&d.iadd(v),d.iushrn(1);a.cmp(u)>=0?(a.isub(u),f.isub(d)):(u.isub(a),d.isub(f))}var T;return a.cmpn(1)===0?T=f:T=d,T.cmpn(0)<0&&T.iadd(i),T},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var a=this.clone(),u=i.clone();a.negative=0,u.negative=0;for(var f=0;a.isEven()&&u.isEven();f++)a.iushrn(1),u.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;u.isEven();)u.iushrn(1);var d=a.cmp(u);if(d<0){var v=a;a=u,u=v}else if(d===0||u.cmpn(1)===0)break;a.isub(u)}while(!0);return u.iushln(f)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){n(typeof i=="number");var a=i%26,u=(i-a)/26,f=1<<a;if(this.length<=u)return this._expand(u+1),this.words[u]|=f,this;for(var d=f,v=u;d!==0&&v<this.length;v++){var p=this.words[v]|0;p+=d,d=p>>>26,p&=67108863,this.words[v]=p}return d!==0&&(this.words[v]=d,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var a=i<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var u;if(this.length>1)u=1;else{a&&(i=-i),n(i<=67108863,"Number is too big");var f=this.words[0]|0;u=f===i?0:f<i?-1:1}return this.negative!==0?-u|0:u},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var a=this.ucmp(i);return this.negative!==0?-a|0:a},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var a=0,u=this.length-1;u>=0;u--){var f=this.words[u]|0,d=i.words[u]|0;if(f!==d){f<d?a=-1:f>d&&(a=1);break}}return a},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new k(i)},o.prototype.toRed=function(i){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return n(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return n(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var ae={k256:null,p224:null,p192:null,p25519:null};function Ot(m,i){this.name=m,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ot.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},Ot.prototype.ireduce=function(i){var a=i,u;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),u=a.bitLength();while(u>this.n);var f=u<this.n?-1:a.ucmp(this.p);return f===0?(a.words[0]=0,a.length=1):f>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},Ot.prototype.split=function(i,a){i.iushrn(this.n,0,a)},Ot.prototype.imulK=function(i){return i.imul(this.k)};function Xt(){Ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(Xt,Ot),Xt.prototype.split=function(i,a){for(var u=4194303,f=Math.min(i.length,9),d=0;d<f;d++)a.words[d]=i.words[d];if(a.length=f,i.length<=9){i.words[0]=0,i.length=1;return}var v=i.words[9];for(a.words[a.length++]=v&u,d=10;d<i.length;d++){var p=i.words[d]|0;i.words[d-10]=(p&u)<<4|v>>>22,v=p}v>>>=22,i.words[d-10]=v,v===0&&i.length>10?i.length-=10:i.length-=9},Xt.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var a=0,u=0;u<i.length;u++){var f=i.words[u]|0;a+=f*977,i.words[u]=a&67108863,a=f*64+(a/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function le(){Ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(le,Ot);function ue(){Ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(ue,Ot);function Nt(){Ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(Nt,Ot),Nt.prototype.imulK=function(i){for(var a=0,u=0;u<i.length;u++){var f=(i.words[u]|0)*19+a,d=f&67108863;f>>>=26,i.words[u]=d,a=f}return a!==0&&(i.words[i.length++]=a),i},o._prime=function(i){if(ae[i])return ae[i];var a;if(i==="k256")a=new Xt;else if(i==="p224")a=new le;else if(i==="p192")a=new ue;else if(i==="p25519")a=new Nt;else throw new Error("Unknown prime "+i);return ae[i]=a,a};function k(m){if(typeof m=="string"){var i=o._prime(m);this.m=i.p,this.prime=i}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}k.prototype._verify1=function(i){n(i.negative===0,"red works only with positives"),n(i.red,"red works only with red numbers")},k.prototype._verify2=function(i,a){n((i.negative|a.negative)===0,"red works only with positives"),n(i.red&&i.red===a.red,"red works only with red numbers")},k.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):(A(i,i.umod(this.m)._forceRed(this)),i)},k.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},k.prototype.add=function(i,a){this._verify2(i,a);var u=i.add(a);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},k.prototype.iadd=function(i,a){this._verify2(i,a);var u=i.iadd(a);return u.cmp(this.m)>=0&&u.isub(this.m),u},k.prototype.sub=function(i,a){this._verify2(i,a);var u=i.sub(a);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},k.prototype.isub=function(i,a){this._verify2(i,a);var u=i.isub(a);return u.cmpn(0)<0&&u.iadd(this.m),u},k.prototype.shl=function(i,a){return this._verify1(i),this.imod(i.ushln(a))},k.prototype.imul=function(i,a){return this._verify2(i,a),this.imod(i.imul(a))},k.prototype.mul=function(i,a){return this._verify2(i,a),this.imod(i.mul(a))},k.prototype.isqr=function(i){return this.imul(i,i.clone())},k.prototype.sqr=function(i){return this.mul(i,i)},k.prototype.sqrt=function(i){if(i.isZero())return i.clone();var a=this.m.andln(3);if(n(a%2===1),a===3){var u=this.m.add(new o(1)).iushrn(2);return this.pow(i,u)}for(var f=this.m.subn(1),d=0;!f.isZero()&&f.andln(1)===0;)d++,f.iushrn(1);n(!f.isZero());var v=new o(1).toRed(this),p=v.redNeg(),h=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new o(2*s*s).toRed(this);this.pow(s,h).cmp(p)!==0;)s.redIAdd(p);for(var c=this.pow(s,f),T=this.pow(i,f.addn(1).iushrn(1)),N=this.pow(i,f),b=d;N.cmp(v)!==0;){for(var Tt=N,C=0;Tt.cmp(v)!==0;C++)Tt=Tt.redSqr();n(C<b);var U=this.pow(c,new o(1).iushln(b-C-1));T=T.redMul(U),c=U.redSqr(),N=N.redMul(c),b=C}return T},k.prototype.invm=function(i){var a=i._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},k.prototype.pow=function(i,a){if(a.isZero())return new o(1).toRed(this);if(a.cmpn(1)===0)return i.clone();var u=4,f=new Array(1<<u);f[0]=new o(1).toRed(this),f[1]=i;for(var d=2;d<f.length;d++)f[d]=this.mul(f[d-1],i);var v=f[0],p=0,h=0,s=a.bitLength()%26;for(s===0&&(s=26),d=a.length-1;d>=0;d--){for(var c=a.words[d],T=s-1;T>=0;T--){var N=c>>T&1;if(v!==f[0]&&(v=this.sqr(v)),N===0&&p===0){h=0;continue}p<<=1,p|=N,h++,!(h!==u&&(d!==0||T!==0))&&(v=this.mul(v,f[p]),h=0,p=0)}s=26}return v},k.prototype.convertTo=function(i){var a=i.umod(this.m);return a===i?a.clone():a},k.prototype.convertFrom=function(i){var a=i.clone();return a.red=null,a},o.mont=function(i){return new bt(i)};function bt(m){k.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(bt,k),bt.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},bt.prototype.convertFrom=function(i){var a=this.imod(i.mul(this.rinv));return a.red=null,a},bt.prototype.imul=function(i,a){if(i.isZero()||a.isZero())return i.words[0]=0,i.length=1,i;var u=i.imul(a),f=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=u.isub(f).iushrn(this.shift),v=d;return d.cmp(this.m)>=0?v=d.isub(this.m):d.cmpn(0)<0&&(v=d.iadd(this.m)),v._forceRed(this)},bt.prototype.mul=function(i,a){if(i.isZero()||a.isZero())return new o(0)._forceRed(this);var u=i.mul(a),f=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=u.isub(f).iushrn(this.shift),v=d;return d.cmp(this.m)>=0?v=d.isub(this.m):d.cmpn(0)<0&&(v=d.iadd(this.m)),v._forceRed(this)},bt.prototype.invm=function(i){var a=this.imod(i._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(e,_s)})(Jr);var qs=Jr.exports;const Gs=Cn(qs),Bn="bignumber/5.7.0";var qe=Gs.BN;const te=new Ct(Bn),Mr={},Fi=9007199254740991;function Hs(e){return e!=null&&(O.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Ft(e)||typeof e=="bigint"||we(e))}let Ui=!1;class O{constructor(t,r){t!==Mr&&te.throwError("cannot call constructor directly; use BigNumber.from",Ct.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return kt(I(this).fromTwos(t))}toTwos(t){return kt(I(this).toTwos(t))}abs(){return this._hex[0]==="-"?O.from(this._hex.substring(1)):this}add(t){return kt(I(this).add(I(t)))}sub(t){return kt(I(this).sub(I(t)))}div(t){return O.from(t).isZero()&&Kt("division-by-zero","div"),kt(I(this).div(I(t)))}mul(t){return kt(I(this).mul(I(t)))}mod(t){const r=I(t);return r.isNeg()&&Kt("division-by-zero","mod"),kt(I(this).umod(r))}pow(t){const r=I(t);return r.isNeg()&&Kt("negative-power","pow"),kt(I(this).pow(r))}and(t){const r=I(t);return(this.isNegative()||r.isNeg())&&Kt("unbound-bitwise-result","and"),kt(I(this).and(r))}or(t){const r=I(t);return(this.isNegative()||r.isNeg())&&Kt("unbound-bitwise-result","or"),kt(I(this).or(r))}xor(t){const r=I(t);return(this.isNegative()||r.isNeg())&&Kt("unbound-bitwise-result","xor"),kt(I(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&Kt("negative-width","mask"),kt(I(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Kt("negative-width","shl"),kt(I(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Kt("negative-width","shr"),kt(I(this).shrn(t))}eq(t){return I(this).eq(I(t))}lt(t){return I(this).lt(I(t))}lte(t){return I(this).lte(I(t))}gt(t){return I(this).gt(I(t))}gte(t){return I(this).gte(I(t))}isNegative(){return this._hex[0]==="-"}isZero(){return I(this).isZero()}toNumber(){try{return I(this).toNumber()}catch{Kt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return te.throwError("this platform does not support BigInt",Ct.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Ui||(Ui=!0,te.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?te.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ct.errors.UNEXPECTED_ARGUMENT,{}):te.throwError("BigNumber.toString does not accept parameters",Ct.errors.UNEXPECTED_ARGUMENT,{})),I(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof O)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new O(Mr,be(t)):t.match(/^-?[0-9]+$/)?new O(Mr,be(new qe(t))):te.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Kt("underflow","BigNumber.from",t),(t>=Fi||t<=-Fi)&&Kt("overflow","BigNumber.from",t),O.from(String(t));const r=t;if(typeof r=="bigint")return O.from(r.toString());if(we(r))return O.from(It(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return O.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ft(n)||n[0]==="-"&&Ft(n.substring(1))))return O.from(n)}return te.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function be(e){if(typeof e!="string")return be(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&te.throwArgumentError("invalid hex","value",e),e=be(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function kt(e){return O.from(be(e))}function I(e){const t=O.from(e).toHexString();return t[0]==="-"?new qe("-"+t.substring(3),16):new qe(t.substring(2),16)}function Kt(e,t,r){const n={fault:e,operation:t};return r!=null&&(n.value=r),te.throwError(e,Ct.errors.NUMERIC_FAULT,n)}function Ll(e){return new qe(e,36).toString(16)}const Pt=new Ct(Bn),Ae={},Dn=O.from(0),Ln=O.from(-1);function qn(e,t,r,n){const l={fault:t,operation:r};return n!==void 0&&(l.value=n),Pt.throwError(e,Ct.errors.NUMERIC_FAULT,l)}let Te="0";for(;Te.length<256;)Te+=Te;function Yr(e){if(typeof e!="number")try{e=O.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Te.substring(0,e):Pt.throwArgumentError("invalid decimal size","decimals",e)}function Ue(e,t){t==null&&(t=0);const r=Yr(t);e=O.from(e);const n=e.lt(Dn);n&&(e=e.mul(Ln));let l=e.mod(r).toString();for(;l.length<r.length-1;)l="0"+l;l=l.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return r.length===1?e=o:e=o+"."+l,n&&(e="-"+e),e}function Qt(e,t){t==null&&(t=0);const r=Yr(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Pt.throwArgumentError("invalid decimal value","value",e);const n=e.substring(0,1)==="-";n&&(e=e.substring(1)),e==="."&&Pt.throwArgumentError("missing value","value",e);const l=e.split(".");l.length>2&&Pt.throwArgumentError("too many decimal points","value",e);let o=l[0],g=l[1];for(o||(o="0"),g||(g="0");g[g.length-1]==="0";)g=g.substring(0,g.length-1);for(g.length>r.length-1&&qn("fractional component exceeds decimals","underflow","parseFixed"),g===""&&(g="0");g.length<r.length-1;)g+="0";const y=O.from(o),M=O.from(g);let E=y.mul(r).add(M);return n&&(E=E.mul(Ln)),E}class Ee{constructor(t,r,n,l){t!==Ae&&Pt.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ct.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=l,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(l),this._multiplier=Yr(l),Object.freeze(this)}static from(t){if(t instanceof Ee)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,n=128,l=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||Pt.throwArgumentError("invalid fixed format","format",t),r=o[1]!=="u",n=parseInt(o[2]),l=parseInt(o[3])}}else if(t){const o=(g,y,M)=>t[g]==null?M:(typeof t[g]!==y&&Pt.throwArgumentError("invalid fixed format ("+g+" not "+y+")","format."+g,t[g]),t[g]);r=o("signed","boolean",r),n=o("width","number",n),l=o("decimals","number",l)}return n%8&&Pt.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),l>80&&Pt.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",l),new Ee(Ae,r,n,l)}}class Rt{constructor(t,r,n,l){t!==Ae&&Pt.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ct.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=l,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Pt.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=Qt(this._value,this.format.decimals),n=Qt(t._value,t.format.decimals);return Rt.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=Qt(this._value,this.format.decimals),n=Qt(t._value,t.format.decimals);return Rt.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=Qt(this._value,this.format.decimals),n=Qt(t._value,t.format.decimals);return Rt.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=Qt(this._value,this.format.decimals),n=Qt(t._value,t.format.decimals);return Rt.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Rt.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(Bi.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Rt.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(Bi.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Pt.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const n=Rt.from("1"+Te.substring(0,t),this.format),l=Ks.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(l).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Pt.throwArgumentError("invalid byte width","width",t);const r=O.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return _e(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Rt.fromString(this._value,t)}static fromValue(t,r,n){return n==null&&r!=null&&!Hs(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Rt.fromString(Ue(t,r),Ee.from(n))}static fromString(t,r){r==null&&(r="fixed");const n=Ee.from(r),l=Qt(t,n.decimals);!n.signed&&l.lt(Dn)&&qn("unsigned value cannot be negative","overflow","value",t);let o=null;n.signed?o=l.toTwos(n.width).toHexString():(o=l.toHexString(),o=_e(o,n.width/8));const g=Ue(l,n.decimals);return new Rt(Ae,o,g,n)}static fromBytes(t,r){r==null&&(r="fixed");const n=Ee.from(r);if(ce(t).length>n.width/8)throw new Error("overflow");let l=O.from(t);n.signed&&(l=l.fromTwos(n.width));const o=l.toTwos((n.signed?0:1)+n.width).toHexString(),g=Ue(l,n.decimals);return new Rt(Ae,o,g,n)}static from(t,r){if(typeof t=="string")return Rt.fromString(t,r);if(we(t))return Rt.fromBytes(t,r);try{return Rt.fromValue(t,0,r)}catch(n){if(n.code!==Ct.errors.INVALID_ARGUMENT)throw n}return Pt.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const Bi=Rt.from(1),Ks=Rt.from("0.5"),js=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Gn(e,t){if(typeof t=="string"){const r=js.indexOf(t);r!==-1&&(t=3*r)}return Ue(e,t??18)}function zs(e){return Gn(e,18)}var Zr={exports:{}},Hn=function(t,r){return function(){for(var l=new Array(arguments.length),o=0;o<l.length;o++)l[o]=arguments[o];return t.apply(r,l)}},Ws=Hn,oe=Object.prototype.toString;function Xr(e){return Array.isArray(e)}function Gr(e){return typeof e>"u"}function $s(e){return e!==null&&!Gr(e)&&e.constructor!==null&&!Gr(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Kn(e){return oe.call(e)==="[object ArrayBuffer]"}function Vs(e){return oe.call(e)==="[object FormData]"}function Js(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Kn(e.buffer),t}function Ys(e){return typeof e=="string"}function Zs(e){return typeof e=="number"}function jn(e){return e!==null&&typeof e=="object"}function Be(e){if(oe.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Xs(e){return oe.call(e)==="[object Date]"}function Qs(e){return oe.call(e)==="[object File]"}function to(e){return oe.call(e)==="[object Blob]"}function zn(e){return oe.call(e)==="[object Function]"}function eo(e){return jn(e)&&zn(e.pipe)}function ro(e){return oe.call(e)==="[object URLSearchParams]"}function io(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function no(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Qr(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Xr(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.call(null,e[l],l,e)}function Hr(){var e={};function t(l,o){Be(e[o])&&Be(l)?e[o]=Hr(e[o],l):Be(l)?e[o]=Hr({},l):Xr(l)?e[o]=l.slice():e[o]=l}for(var r=0,n=arguments.length;r<n;r++)Qr(arguments[r],t);return e}function so(e,t,r){return Qr(t,function(l,o){r&&typeof l=="function"?e[o]=Ws(l,r):e[o]=l}),e}function oo(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Ut={isArray:Xr,isArrayBuffer:Kn,isBuffer:$s,isFormData:Vs,isArrayBufferView:Js,isString:Ys,isNumber:Zs,isObject:jn,isPlainObject:Be,isUndefined:Gr,isDate:Xs,isFile:Qs,isBlob:to,isFunction:zn,isStream:eo,isURLSearchParams:ro,isStandardBrowserEnv:no,forEach:Qr,merge:Hr,extend:so,trim:io,stripBOM:oo},ve=Ut;function Di(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Wn=function(t,r,n){if(!r)return t;var l;if(n)l=n(r);else if(ve.isURLSearchParams(r))l=r.toString();else{var o=[];ve.forEach(r,function(M,E){M===null||typeof M>"u"||(ve.isArray(M)?E=E+"[]":M=[M],ve.forEach(M,function(w){ve.isDate(w)?w=w.toISOString():ve.isObject(w)&&(w=JSON.stringify(w)),o.push(Di(E)+"="+Di(w))}))}),l=o.join("&")}if(l){var g=t.indexOf("#");g!==-1&&(t=t.slice(0,g)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t},ao=Ut;function We(){this.handlers=[]}We.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};We.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};We.prototype.forEach=function(t){ao.forEach(this.handlers,function(n){n!==null&&t(n)})};var lo=We,uo=Ut,fo=function(t,r){uo.forEach(t,function(l,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=l,delete t[o])})},$n=function(t,r,n,l,o){return t.config=r,n&&(t.code=n),t.request=l,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Vn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_r,Li;function Jn(){if(Li)return _r;Li=1;var e=$n;return _r=function(r,n,l,o,g){var y=new Error(r);return e(y,n,l,o,g)},_r}var Ar,qi;function ho(){if(qi)return Ar;qi=1;var e=Jn();return Ar=function(r,n,l){var o=l.config.validateStatus;!l.status||!o||o(l.status)?r(l):n(e("Request failed with status code "+l.status,l.config,null,l.request,l))},Ar}var Tr,Gi;function co(){if(Gi)return Tr;Gi=1;var e=Ut;return Tr=e.isStandardBrowserEnv()?function(){return{write:function(n,l,o,g,y,M){var E=[];E.push(n+"="+encodeURIComponent(l)),e.isNumber(o)&&E.push("expires="+new Date(o).toGMTString()),e.isString(g)&&E.push("path="+g),e.isString(y)&&E.push("domain="+y),M===!0&&E.push("secure"),document.cookie=E.join("; ")},read:function(n){var l=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Tr}var Nr,Hi;function mo(){return Hi||(Hi=1,Nr=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),Nr}var br,Ki;function vo(){return Ki||(Ki=1,br=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),br}var Rr,ji;function go(){if(ji)return Rr;ji=1;var e=mo(),t=vo();return Rr=function(n,l){return n&&!e(l)?t(n,l):l},Rr}var xr,zi;function po(){if(zi)return xr;zi=1;var e=Ut,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return xr=function(n){var l={},o,g,y;return n&&e.forEach(n.split(`
`),function(E){if(y=E.indexOf(":"),o=e.trim(E.substr(0,y)).toLowerCase(),g=e.trim(E.substr(y+1)),o){if(l[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?l[o]=(l[o]?l[o]:[]).concat([g]):l[o]=l[o]?l[o]+", "+g:g}}),l},xr}var Sr,Wi;function yo(){if(Wi)return Sr;Wi=1;var e=Ut;return Sr=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),l;function o(g){var y=g;return r&&(n.setAttribute("href",y),y=n.href),n.setAttribute("href",y),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return l=o(window.location.href),function(y){var M=e.isString(y)?o(y):y;return M.protocol===l.protocol&&M.host===l.host}}():function(){return function(){return!0}}(),Sr}var Or,$i;function $e(){if($i)return Or;$i=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Or=e,Or}var Ir,Vi;function Ji(){if(Vi)return Ir;Vi=1;var e=Ut,t=ho(),r=co(),n=Wn,l=go(),o=po(),g=yo(),y=Jn(),M=Vn,E=$e();return Ir=function(w){return new Promise(function(F,Bt){var Dt=w.data,Gt=w.headers,zt=w.responseType,Wt;function re(){w.cancelToken&&w.cancelToken.unsubscribe(Wt),w.signal&&w.signal.removeEventListener("abort",Wt)}e.isFormData(Dt)&&delete Gt["Content-Type"];var S=new XMLHttpRequest;if(w.auth){var ae=w.auth.username||"",Ot=w.auth.password?unescape(encodeURIComponent(w.auth.password)):"";Gt.Authorization="Basic "+btoa(ae+":"+Ot)}var Xt=l(w.baseURL,w.url);S.open(w.method.toUpperCase(),n(Xt,w.params,w.paramsSerializer),!0),S.timeout=w.timeout;function le(){if(S){var Nt="getAllResponseHeaders"in S?o(S.getAllResponseHeaders()):null,k=!zt||zt==="text"||zt==="json"?S.responseText:S.response,bt={data:k,status:S.status,statusText:S.statusText,headers:Nt,config:w,request:S};t(function(i){F(i),re()},function(i){Bt(i),re()},bt),S=null}}if("onloadend"in S?S.onloadend=le:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(le)},S.onabort=function(){S&&(Bt(y("Request aborted",w,"ECONNABORTED",S)),S=null)},S.onerror=function(){Bt(y("Network Error",w,null,S)),S=null},S.ontimeout=function(){var k=w.timeout?"timeout of "+w.timeout+"ms exceeded":"timeout exceeded",bt=w.transitional||M;w.timeoutErrorMessage&&(k=w.timeoutErrorMessage),Bt(y(k,w,bt.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",S)),S=null},e.isStandardBrowserEnv()){var ue=(w.withCredentials||g(Xt))&&w.xsrfCookieName?r.read(w.xsrfCookieName):void 0;ue&&(Gt[w.xsrfHeaderName]=ue)}"setRequestHeader"in S&&e.forEach(Gt,function(k,bt){typeof Dt>"u"&&bt.toLowerCase()==="content-type"?delete Gt[bt]:S.setRequestHeader(bt,k)}),e.isUndefined(w.withCredentials)||(S.withCredentials=!!w.withCredentials),zt&&zt!=="json"&&(S.responseType=w.responseType),typeof w.onDownloadProgress=="function"&&S.addEventListener("progress",w.onDownloadProgress),typeof w.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",w.onUploadProgress),(w.cancelToken||w.signal)&&(Wt=function(Nt){S&&(Bt(!Nt||Nt&&Nt.type?new E("canceled"):Nt),S.abort(),S=null)},w.cancelToken&&w.cancelToken.subscribe(Wt),w.signal&&(w.signal.aborted?Wt():w.signal.addEventListener("abort",Wt))),Dt||(Dt=null),S.send(Dt)})},Ir}var xt=Ut,Yi=fo,Eo=$n,wo=Vn,Mo={"Content-Type":"application/x-www-form-urlencoded"};function Zi(e,t){!xt.isUndefined(e)&&xt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function _o(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Ji()),e}function Ao(e,t,r){if(xt.isString(e))try{return(t||JSON.parse)(e),xt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Ve={transitional:wo,adapter:_o(),transformRequest:[function(t,r){return Yi(r,"Accept"),Yi(r,"Content-Type"),xt.isFormData(t)||xt.isArrayBuffer(t)||xt.isBuffer(t)||xt.isStream(t)||xt.isFile(t)||xt.isBlob(t)?t:xt.isArrayBufferView(t)?t.buffer:xt.isURLSearchParams(t)?(Zi(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):xt.isObject(t)||r&&r["Content-Type"]==="application/json"?(Zi(r,"application/json"),Ao(t)):t}],transformResponse:[function(t){var r=this.transitional||Ve.transitional,n=r&&r.silentJSONParsing,l=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||l&&xt.isString(t)&&t.length)try{return JSON.parse(t)}catch(g){if(o)throw g.name==="SyntaxError"?Eo(g,this,"E_JSON_PARSE"):g}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};xt.forEach(["delete","get","head"],function(t){Ve.headers[t]={}});xt.forEach(["post","put","patch"],function(t){Ve.headers[t]=xt.merge(Mo)});var ti=Ve,To=Ut,No=ti,bo=function(t,r,n){var l=this||No;return To.forEach(n,function(g){t=g.call(l,t,r)}),t},Pr,Xi;function Yn(){return Xi||(Xi=1,Pr=function(t){return!!(t&&t.__CANCEL__)}),Pr}var Qi=Ut,kr=bo,Ro=Yn(),xo=ti,So=$e();function Cr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new So("canceled")}var Oo=function(t){Cr(t),t.headers=t.headers||{},t.data=kr.call(t,t.data,t.headers,t.transformRequest),t.headers=Qi.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Qi.forEach(["delete","get","head","post","put","patch","common"],function(l){delete t.headers[l]});var r=t.adapter||xo.adapter;return r(t).then(function(l){return Cr(t),l.data=kr.call(t,l.data,l.headers,t.transformResponse),l},function(l){return Ro(l)||(Cr(t),l&&l.response&&(l.response.data=kr.call(t,l.response.data,l.response.headers,t.transformResponse))),Promise.reject(l)})},Lt=Ut,Zn=function(t,r){r=r||{};var n={};function l(A,w){return Lt.isPlainObject(A)&&Lt.isPlainObject(w)?Lt.merge(A,w):Lt.isPlainObject(w)?Lt.merge({},w):Lt.isArray(w)?w.slice():w}function o(A){if(Lt.isUndefined(r[A])){if(!Lt.isUndefined(t[A]))return l(void 0,t[A])}else return l(t[A],r[A])}function g(A){if(!Lt.isUndefined(r[A]))return l(void 0,r[A])}function y(A){if(Lt.isUndefined(r[A])){if(!Lt.isUndefined(t[A]))return l(void 0,t[A])}else return l(void 0,r[A])}function M(A){if(A in r)return l(t[A],r[A]);if(A in t)return l(void 0,t[A])}var E={url:g,method:g,data:g,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:M};return Lt.forEach(Object.keys(t).concat(Object.keys(r)),function(w){var x=E[w]||o,F=x(w);Lt.isUndefined(F)&&x!==M||(n[w]=F)}),n},Fr,tn;function Xn(){return tn||(tn=1,Fr={version:"0.26.1"}),Fr}var Io=Xn().version,ei={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){ei[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var en={};ei.transitional=function(t,r,n){function l(o,g){return"[Axios v"+Io+"] Transitional option '"+o+"'"+g+(n?". "+n:"")}return function(o,g,y){if(t===!1)throw new Error(l(g," has been removed"+(r?" in "+r:"")));return r&&!en[g]&&(en[g]=!0,console.warn(l(g," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,g,y):!0}};function Po(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),l=n.length;l-- >0;){var o=n[l],g=t[o];if(g){var y=e[o],M=y===void 0||g(y,o,e);if(M!==!0)throw new TypeError("option "+o+" must be "+M);continue}if(r!==!0)throw Error("Unknown option "+o)}}var ko={assertOptions:Po,validators:ei},Qn=Ut,Co=Wn,rn=lo,nn=Oo,Je=Zn,ts=ko,ge=ts.validators;function Re(e){this.defaults=e,this.interceptors={request:new rn,response:new rn}}Re.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Je(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&ts.assertOptions(n,{silentJSONParsing:ge.transitional(ge.boolean),forcedJSONParsing:ge.transitional(ge.boolean),clarifyTimeoutError:ge.transitional(ge.boolean)},!1);var l=[],o=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(r)===!1||(o=o&&F.synchronous,l.unshift(F.fulfilled,F.rejected))});var g=[];this.interceptors.response.forEach(function(F){g.push(F.fulfilled,F.rejected)});var y;if(!o){var M=[nn,void 0];for(Array.prototype.unshift.apply(M,l),M=M.concat(g),y=Promise.resolve(r);M.length;)y=y.then(M.shift(),M.shift());return y}for(var E=r;l.length;){var A=l.shift(),w=l.shift();try{E=A(E)}catch(x){w(x);break}}try{y=nn(E)}catch(x){return Promise.reject(x)}for(;g.length;)y=y.then(g.shift(),g.shift());return y};Re.prototype.getUri=function(t){return t=Je(this.defaults,t),Co(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Qn.forEach(["delete","get","head","options"],function(t){Re.prototype[t]=function(r,n){return this.request(Je(n||{},{method:t,url:r,data:(n||{}).data}))}});Qn.forEach(["post","put","patch"],function(t){Re.prototype[t]=function(r,n,l){return this.request(Je(l||{},{method:t,url:r,data:n}))}});var Fo=Re,Ur,sn;function Uo(){if(sn)return Ur;sn=1;var e=$e();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(g){n=g});var l=this;this.promise.then(function(o){if(l._listeners){var g,y=l._listeners.length;for(g=0;g<y;g++)l._listeners[g](o);l._listeners=null}}),this.promise.then=function(o){var g,y=new Promise(function(M){l.subscribe(M),g=M}).then(o);return y.cancel=function(){l.unsubscribe(g)},y},r(function(g){l.reason||(l.reason=new e(g),n(l.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var l=this._listeners.indexOf(n);l!==-1&&this._listeners.splice(l,1)}},t.source=function(){var n,l=new t(function(g){n=g});return{token:l,cancel:n}},Ur=t,Ur}var Br,on;function Bo(){return on||(on=1,Br=function(t){return function(n){return t.apply(null,n)}}),Br}var Dr,an;function Do(){if(an)return Dr;an=1;var e=Ut;return Dr=function(r){return e.isObject(r)&&r.isAxiosError===!0},Dr}var ln=Ut,Lo=Hn,De=Fo,qo=Zn,Go=ti;function es(e){var t=new De(e),r=Lo(De.prototype.request,t);return ln.extend(r,De.prototype,t),ln.extend(r,t),r.create=function(l){return es(qo(e,l))},r}var Zt=es(Go);Zt.Axios=De;Zt.Cancel=$e();Zt.CancelToken=Uo();Zt.isCancel=Yn();Zt.VERSION=Xn().version;Zt.all=function(t){return Promise.all(t)};Zt.spread=Bo();Zt.isAxiosError=Do();Zr.exports=Zt;Zr.exports.default=Zt;var Ho=Zr.exports,Ko=Ho;const rs=Cn(Ko);var P;(function(e){e.ETH_MAINNET="eth-mainnet",e.ETH_ROPSTEN="eth-ropsten",e.ETH_GOERLI="eth-goerli",e.ETH_KOVAN="eth-kovan",e.ETH_RINKEBY="eth-rinkeby",e.ETH_SEPOLIA="eth-sepolia",e.OPT_MAINNET="opt-mainnet",e.OPT_KOVAN="opt-kovan",e.OPT_GOERLI="opt-goerli",e.ARB_MAINNET="arb-mainnet",e.ARB_RINKEBY="arb-rinkeby",e.ARB_GOERLI="arb-goerli",e.MATIC_MAINNET="polygon-mainnet",e.MATIC_MUMBAI="polygon-mumbai",e.ASTAR_MAINNET="astar-mainnet",e.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",e.POLYGONZKEVM_TESTNET="polygonzkevm-testnet"})(P||(P={}));var Ne;(function(e){e.DEFAULT_TOKENS="DEFAULT_TOKENS",e.ERC20="erc20"})(Ne||(Ne={}));var jt;(function(e){e.EXTERNAL="external",e.INTERNAL="internal",e.ERC20="erc20",e.ERC721="erc721",e.ERC1155="erc1155",e.SPECIALNFT="specialnft"})(jt||(jt={}));var un;(function(e){e.ASCENDING="asc",e.DESCENDING="desc"})(un||(un={}));var qt;(function(e){e.ERC721="ERC721",e.ERC1155="ERC1155",e.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",e.NOT_A_CONTRACT="NOT_A_CONTRACT",e.UNKNOWN="UNKNOWN"})(qt||(qt={}));var fn;(function(e){e.Erc721TooManyOwners="Erc721TooManyOwners",e.Erc721TooManyTokens="Erc721TooManyTokens",e.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",e.MostlyHoneyPotOwners="MostlyHoneyPotOwners",e.OwnedByMostHoneyPots="OwnedByMostHoneyPots"})(fn||(fn={}));var hn;(function(e){e.SPAM="SPAM",e.AIRDROPS="AIRDROPS"})(hn||(hn={}));var dn;(function(e){e.SPAM="SPAM",e.AIRDROPS="AIRDROPS"})(dn||(dn={}));var cn;(function(e){e.TRANSFERTIME="TRANSFERTIME"})(cn||(cn={}));var Kr;(function(e){e.TO="TO",e.FROM="FROM"})(Kr||(Kr={}));var mn;(function(e){e.ASCENDING="asc",e.DESCENDING="desc"})(mn||(mn={}));var ie;(function(e){e.SEAPORT="seaport",e.LOOKSRARE="looksrare",e.X2Y2="x2y2",e.WYVERN="wyvern",e.CRYPTOPUNKS="cryptopunks",e.UNKNOWN="unknown"})(ie||(ie={}));var Ge;(function(e){e.BUYER="buyer",e.SELLER="seller"})(Ge||(Ge={}));var ne;(function(e){e.DOES_NOT_EXIST="does_not_exist",e.ALREADY_QUEUED="already_queued",e.IN_PROGRESS="in_progress",e.FINISHED="finished",e.QUEUED="queued",e.QUEUE_FAILED="queue_failed"})(ne||(ne={}));var jr;(function(e){e.VERIFIED="verified",e.APPROVED="approved",e.REQUESTED="requested",e.NOT_REQUESTED="not_requested"})(jr||(jr={}));var se;(function(e){e.PENDING_TRANSACTIONS="alchemy_pendingTransactions",e.MINED_TRANSACTIONS="alchemy_minedTransactions"})(se||(se={}));var vn;(function(e){e.NATIVE="NATIVE",e.ERC20="ERC20",e.ERC721="ERC721",e.ERC1155="ERC1155",e.SPECIAL_NFT="SPECIAL_NFT"})(vn||(vn={}));var gn;(function(e){e.APPROVE="APPROVE",e.TRANSFER="TRANSFER"})(gn||(gn={}));var pn;(function(e){e.ETHERSCAN="ETHERSCAN"})(pn||(pn={}));var yn;(function(e){e.CREATE="CREATE",e.CALL="CALL",e.STATICCALL="STATICCALL",e.DELEGATECALL="DELEGATECALL"})(yn||(yn={}));var En;(function(e){e.UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETE="COMPLETE",e.ABANDONED="ABANDONED"})(En||(En={}));var wn;(function(e){e.V1="V1",e.V2="V2"})(wn||(wn={}));var ee;(function(e){e.MINED_TRANSACTION="MINED_TRANSACTION",e.DROPPED_TRANSACTION="DROPPED_TRANSACTION",e.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",e.NFT_ACTIVITY="NFT_ACTIVITY",e.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",e.GRAPHQL="GRAPHQL"})(ee||(ee={}));var Mn;(function(e){e.PENDING="pending",e.LATEST="latest",e.SAFE="safe",e.FINALIZED="finalized",e.EARLIEST="earliest"})(Mn||(Mn={}));var _n;(function(e){e.CALL_TRACER="callTracer",e.PRESTATE_TRACER="prestateTracer"})(_n||(_n={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _(e,t,r,n){function l(o){return o instanceof r?o:new r(function(g){g(o)})}return new(r||(r=Promise))(function(o,g){function y(A){try{E(n.next(A))}catch(w){g(w)}}function M(A){try{E(n.throw(A))}catch(w){g(w)}}function E(A){A.done?o(A.value):l(A.value).then(y,M)}E((n=n.apply(e,t||[])).next())})}function An(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jt(e){return this instanceof Jt?(this.v=e,this):new Jt(e)}function ri(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),l,o=[];return l={},g("next"),g("throw"),g("return"),l[Symbol.asyncIterator]=function(){return this},l;function g(x){n[x]&&(l[x]=function(F){return new Promise(function(Bt,Dt){o.push([x,F,Bt,Dt])>1||y(x,F)})})}function y(x,F){try{M(n[x](F))}catch(Bt){w(o[0][3],Bt)}}function M(x){x.value instanceof Jt?Promise.resolve(x.value.v).then(E,A):w(o[0][2],x)}function E(x){y("next",x)}function A(x){y("throw",x)}function w(x,F){x(F),o.shift(),o.length&&y(o[0][0],o[0][1])}}function is(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof An=="function"?An(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(g){return new Promise(function(y,M){g=e[o](g),l(y,M,g.done,g.value)})}}function l(o,g,y,M){Promise.resolve(M).then(function(E){o({value:E,done:y})},g)}}const jo="demo",zo=P.ETH_MAINNET,Wo=5,$o=0;function Vo(e,t){return`https://${e}.g.alchemy.com/v2/${t}`}function Jo(e,t){return`https://${e}.g.alchemy.com/nft/v2/${t}`}function ql(e,t){return`wss://${e}.g.alchemy.com/v2/${t}`}function Yo(){return"https://dashboard.alchemy.com/api"}var B;(function(e){e[e.BASE=0]="BASE",e[e.NFT=1]="NFT",e[e.WEBHOOK=2]="WEBHOOK"})(B||(B={}));const Gl={[P.ETH_MAINNET]:"mainnet",[P.ETH_ROPSTEN]:"ropsten",[P.ETH_GOERLI]:"goerli",[P.ETH_KOVAN]:"kovan",[P.ETH_RINKEBY]:"rinkeby",[P.ETH_SEPOLIA]:"sepolia",[P.OPT_MAINNET]:"optimism",[P.OPT_KOVAN]:"optimism-kovan",[P.OPT_GOERLI]:"optimism-goerli",[P.ARB_MAINNET]:"arbitrum",[P.ARB_RINKEBY]:"arbitrum-rinkeby",[P.ARB_GOERLI]:"arbitrum-goerli",[P.MATIC_MAINNET]:"matic",[P.MATIC_MUMBAI]:"maticmum",[P.ASTAR_MAINNET]:"astar-mainnet",[P.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[P.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet"},Hl={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"}};function Kl(){}const ns="0x",Zo="0x0000000000000000000000000000000000000000";class Xo{constructor(t){this.apiKey=(t==null?void 0:t.apiKey)||jo,this.network=(t==null?void 0:t.network)||zo,this.maxRetries=(t==null?void 0:t.maxRetries)||Wo,this.url=t==null?void 0:t.url,this.authToken=t==null?void 0:t.authToken,this.batchRequests=(t==null?void 0:t.batchRequests)||!1,this.requestTimeout=(t==null?void 0:t.requestTimeout)||$o}_getRequestUrl(t){return this.url!==void 0?this.url:t===B.NFT?Jo(this.network,this.apiKey):t===B.WEBHOOK?Yo():Vo(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=(()=>_(this,void 0,void 0,function*(){const{AlchemyProvider:t}=yield Ti(()=>import("./alchemy-provider-afa3762a-d8631cfa.js").then(r=>r.a),["./alchemy-provider-afa3762a-d8631cfa.js","./index-649cdf2d.js"],import.meta.url);return new t(this)}))()),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=(()=>_(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:t}=yield Ti(()=>import("./alchemy-websocket-provider-b8ed8f71-99e2181e.js"),["./alchemy-websocket-provider-b8ed8f71-99e2181e.js","./alchemy-provider-afa3762a-d8631cfa.js","./index-649cdf2d.js","./index-384839cd.js"],import.meta.url);return new t(this)}))()),this._baseAlchemyWssProvider}}const Qo="logger/5.7.0";let Tn=!1,Nn=!1;const Le={debug:1,default:2,info:2,warning:3,error:4,off:5};let bn=Le.default,Lr=null;function ta(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const Rn=ta();var zr;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(zr||(zr={}));var Vt;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Vt||(Vt={}));const xn="0123456789abcdef";class q{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const n=t.toLowerCase();Le[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(bn>Le[n])&&console.log.apply(console,r)}debug(...t){this._log(q.levels.DEBUG,t)}info(...t){this._log(q.levels.INFO,t)}warn(...t){this._log(q.levels.WARNING,t)}makeError(t,r,n){if(Nn)return this.makeError("censored error",r,{});r||(r=q.errors.UNKNOWN_ERROR),n||(n={});const l=[];Object.keys(n).forEach(M=>{const E=n[M];try{if(E instanceof Uint8Array){let A="";for(let w=0;w<E.length;w++)A+=xn[E[w]>>4],A+=xn[E[w]&15];l.push(M+"=Uint8Array(0x"+A+")")}else l.push(M+"="+JSON.stringify(E))}catch{l.push(M+"="+JSON.stringify(n[M].toString()))}}),l.push(`code=${r}`),l.push(`version=${this.version}`);const o=t;let g="";switch(r){case Vt.NUMERIC_FAULT:{g="NUMERIC_FAULT";const M=t;switch(M){case"overflow":case"underflow":case"division-by-zero":g+="-"+M;break;case"negative-power":case"negative-width":g+="-unsupported";break;case"unbound-bitwise-result":g+="-unbound-result";break}break}case Vt.CALL_EXCEPTION:case Vt.INSUFFICIENT_FUNDS:case Vt.MISSING_NEW:case Vt.NONCE_EXPIRED:case Vt.REPLACEMENT_UNDERPRICED:case Vt.TRANSACTION_REPLACED:case Vt.UNPREDICTABLE_GAS_LIMIT:g=r;break}g&&(t+=" [ See: https://links.ethers.org/v5-errors-"+g+" ]"),l.length&&(t+=" ("+l.join(", ")+")");const y=new Error(t);return y.reason=o,y.code=r,Object.keys(n).forEach(function(M){y[M]=n[M]}),y}throwError(t,r,n){throw this.makeError(t,r,n)}throwArgumentError(t,r,n){return this.throwError(t,q.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(t,r,n,l){t||this.throwError(r,n,l)}assertArgument(t,r,n,l){t||this.throwArgumentError(r,n,l)}checkNormalize(t){Rn&&this.throwError("platform missing String.prototype.normalize",q.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Rn})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,q.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,q.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,n){n?n=": "+n:n="",t<r&&this.throwError("missing argument"+n,q.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,q.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",q.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",q.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",q.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Lr||(Lr=new q(Qo)),Lr}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",q.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Tn){if(!t)return;this.globalLogger().throwError("error censorship permanent",q.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Nn=!!t,Tn=!!r}static setLogLevel(t){const r=Le[t.toLowerCase()];if(r==null){q.globalLogger().warn("invalid log level - "+t);return}bn=r}static from(t){return new q(t)}}q.errors=Vt;q.levels=zr;const ea="properties/5.7.0";var ra=function(e,t,r,n){function l(o){return o instanceof r?o:new r(function(g){g(o)})}return new(r||(r=Promise))(function(o,g){function y(A){try{E(n.next(A))}catch(w){g(w)}}function M(A){try{E(n.throw(A))}catch(w){g(w)}}function E(A){A.done?o(A.value):l(A.value).then(y,M)}E((n=n.apply(e,t||[])).next())})};const ss=new q(ea);function ia(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function os(e){return ra(this,void 0,void 0,function*(){const t=Object.keys(e).map(n=>{const l=e[n];return Promise.resolve(l).then(o=>({key:n,value:o}))});return(yield Promise.all(t)).reduce((n,l)=>(n[l.key]=l.value,n),{})})}const na={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function as(e){if(e==null||na[typeof e])return!0;if(Array.isArray(e)||typeof e=="object"){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let r=0;r<t.length;r++){let n=null;try{n=e[t[r]]}catch{continue}if(!as(n))return!1}return!0}return ss.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function sa(e){if(as(e))return e;if(Array.isArray(e))return Object.freeze(e.map(t=>Sn(t)));if(typeof e=="object"){const t={};for(const r in e){const n=e[r];n!==void 0&&ia(t,r,Sn(n))}return t}return ss.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function Sn(e){return sa(e)}function oa(e){return O.from(e).toNumber()}function Ye(e){return O.from(e).toHexString()}function On(e){return typeof e=="string"?e:Number.isInteger(e)?Ye(e):e.toString()}function aa(e,t){return Object.values(t).includes(e)?e:void 0}function ii(e){return{address:e.address,name:e.contractMetadata.name,symbol:e.contractMetadata.symbol,totalSupply:e.contractMetadata.totalSupply,tokenType:Ze(e.contractMetadata.tokenType),openSea:ni(e.contractMetadata.openSea),contractDeployer:e.contractMetadata.contractDeployer,deployedBlockNumber:e.contractMetadata.deployedBlockNumber}}function ls(e,t){var r;return{contract:t?{address:t}:e.contract,tokenId:O.from(e.id.tokenId).toString(),tokenType:Ze((r=e.id.tokenMetadata)===null||r===void 0?void 0:r.tokenType)}}function xe(e){var t,r,n,l,o,g,y;try{const M=Ze((t=e.id.tokenMetadata)===null||t===void 0?void 0:t.tokenType),E=ma(e.spamInfo);return{contract:{address:e.contract.address,name:(r=e.contractMetadata)===null||r===void 0?void 0:r.name,symbol:(n=e.contractMetadata)===null||n===void 0?void 0:n.symbol,totalSupply:(l=e.contractMetadata)===null||l===void 0?void 0:l.totalSupply,tokenType:M,openSea:ni((o=e.contractMetadata)===null||o===void 0?void 0:o.openSea),contractDeployer:(g=e.contractMetadata)===null||g===void 0?void 0:g.contractDeployer,deployedBlockNumber:(y=e.contractMetadata)===null||y===void 0?void 0:y.deployedBlockNumber},tokenId:ca(e.id.tokenId),tokenType:M,title:e.title,description:va(e.description),timeLastUpdated:e.timeLastUpdated,metadataError:e.error,rawMetadata:e.metadata,tokenUri:us(e.tokenUri),media:ga(e.media),spamInfo:E}}catch(M){throw new Error("Error parsing the NFT response: "+M)}}function la(e){return{pageKey:e==null?void 0:e.pageKey,nftSales:e.nftSales.map(t=>({marketplace:ua(t.marketplace),contractAddress:t.contractAddress,tokenId:t.tokenId,quantity:t.quantity,buyerAddress:t.buyerAddress,sellerAddress:t.sellerAddress,taker:fa(t.taker),sellerFee:t==null?void 0:t.sellerFee,marketplaceFee:t==null?void 0:t.protocolFee,protocolFee:t==null?void 0:t.protocolFee,royaltyFee:t==null?void 0:t.royaltyFee,blockNumber:t==null?void 0:t.blockNumber,logIndex:t.logIndex,bundleIndex:t.bundleIndex,transactionHash:t.transactionHash}))}}function ua(e){switch(e){case"looksrare":return ie.LOOKSRARE;case"seaport":return ie.SEAPORT;case"x2y2":return ie.X2Y2;case"wyvern":return ie.WYVERN;case"cryptopunks":return ie.CRYPTOPUNKS;default:return ie.UNKNOWN}}function fa(e){switch(e.toLowerCase()){case"buyer":return Ge.BUYER;case"seller":return Ge.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${e}`)}}function ha(e){return e.map(({prevalence:t,trait_type:r,value:n})=>({prevalence:t,traitType:r,value:n}))}function da(e){return{pageKey:e==null?void 0:e.pageKey,totalCount:e.totalCount,contracts:e.contracts.map(t=>({address:t.address,totalSupply:t.totalSupply,isSpam:t.isSpam,media:t.media,numDistinctTokensOwned:t.numDistinctTokensOwned,tokenId:t.tokenId,totalBalance:t.totalBalance,name:t.name,title:t.title,openSea:ni(t==null?void 0:t.opensea),symbol:t==null?void 0:t.symbol,tokenType:Ze(t==null?void 0:t.tokenType),contractDeployer:t.contractDeployer,deployedBlockNumber:t.deployedBlockNumber}))}}function ca(e){return O.from(e).toString()}function Ze(e){switch(e){case"erc721":case"ERC721":return qt.ERC721;case"erc1155":case"ERC1155":return qt.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return qt.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return qt.NOT_A_CONTRACT;default:return qt.UNKNOWN}}function ma(e){if(!e)return;const{isSpam:t,classifications:r}=e;return{isSpam:t==="true",classifications:r}}function va(e){return e===void 0?"":!Array.isArray(e)&&typeof e=="object"?JSON.stringify(e):typeof e=="string"?e:e.join(" ")}function us(e){if(!(e&&e.raw.length===0&&e.gateway.length==0))return e}function ga(e){return e===void 0?[]:e.filter(t=>us(t)!==void 0)}function ni(e){if(e!==void 0)return{floorPrice:e.floorPrice,collectionName:e.collectionName,safelistRequestStatus:e.safelistRequestStatus!==void 0?aa(e.safelistRequestStatus,jr):void 0,imageUrl:e.imageUrl,description:e.description,externalUrl:e.externalUrl,twitterUsername:e.twitterUsername,discordUrl:e.discordUrl,lastIngestedAt:e.lastIngestedAt}}const pa=typeof window<"u"&&window!==null;function pe(e){if(e!==null){if(typeof e=="object")for(const t in e)e[t]=pe(e[t]);return e}}function Xe(e,t,r="getAssetTransfers"){return _(this,void 0,void 0,function*(){const n=yield e.getProvider();return t.fromAddress&&(t.fromAddress=yield n._getAddress(t.fromAddress)),t.toAddress&&(t.toAddress=yield n._getAddress(t.toAddress)),n._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},t),{fromBlock:t.fromBlock!=null?On(t.fromBlock):void 0,toBlock:t.toBlock!=null?On(t.toBlock):void 0,maxCount:t.maxCount!=null?Ye(t.maxCount):void 0})],r)})}function In(e,t,r="getTransactionReceipts"){return _(this,void 0,void 0,function*(){return(yield e.getProvider())._send("alchemy_getTransactionReceipts",[t],r)})}function ya(e,t){return _(this,void 0,void 0,function*(){const r=yield e.getProvider();yield r.getNetwork();const n=yield os({filter:Ea(e,t)}),l=yield r.send("eth_getLogs",[n.filter]);return l.forEach(o=>{o.removed==null&&(o.removed=!1)}),wa(r.formatter.filterLog.bind(r.formatter))(l)})}function Ea(e,t){return _(this,void 0,void 0,function*(){const r=yield e.getProvider(),n=yield t;let l={};return["blockHash","topics"].forEach(o=>{n[o]!=null&&(l[o]=n[o])}),["fromBlock","toBlock"].forEach(o=>{n[o]!=null&&(l[o]=r._getBlockTag(n[o]))}),l=r.formatter.filter(yield os(l)),Array.isArray(n.address)?l.address=yield Promise.all(n.address.map(o=>_(this,void 0,void 0,function*(){return r._getAddress(o)}))):n.address!=null&&(l.address=yield r._getAddress(n.address)),l})}function wa(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach(n=>{r.push(e(n))}),r}}class Ma{constructor(t){this.config=t}getBalance(t,r){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(t,r)})}getCode(t,r){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(t,r)})}getStorageAt(t,r,n){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(t,r,n)})}getTransactionCount(t,r){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(t,r)})}getBlock(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(t)})}getBlockWithTransactions(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(t)})}getNetwork(){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(t,r){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(t,r)})}estimateGas(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(t)})}getTransaction(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(t)})}getTransactionReceipt(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(t)})}sendTransaction(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(t)})}waitForTransaction(t,r,n){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(t,r,n)})}getLogs(t){return _(this,void 0,void 0,function*(){return ya(this.config,t)})}send(t,r){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(t,r)})}findContractDeployer(t){var r;return _(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),l=yield n.getBlockNumber();if((yield n.getCode(t,l))===ns)throw new Error(`Contract '${t}' does not exist`);const o=yield Wr(0,l+1,t,this.config),y=(r=(yield In(this.config,{blockNumber:Ye(o)},"findContractDeployer")).receipts)===null||r===void 0?void 0:r.find(M=>M.contractAddress===t.toLowerCase());return{deployerAddress:y==null?void 0:y.from,blockNumber:o}})}getTokenBalances(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),l=yield n._getAddress(t);if(Array.isArray(r)){if(r.length>1500)throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(r.length===0)throw new Error("getTokenBalances() requires at least one contractAddress when using an array");return n._send("alchemy_getTokenBalances",[l,r],"getTokenBalances")}else{const o=r===void 0?Ne.ERC20:r.type,g=[l,o];return(r==null?void 0:r.type)===Ne.ERC20&&r.pageKey&&g.push({pageKey:r.pageKey}),n._send("alchemy_getTokenBalances",g,"getTokenBalances")}})}getTokensForOwner(t,r){var n;return _(this,void 0,void 0,function*(){const l=yield this.config.getProvider(),g=[yield l._getAddress(t),(n=r==null?void 0:r.contractAddresses)!==null&&n!==void 0?n:Ne.ERC20];r!=null&&r.pageKey&&g.push({pageKey:r.pageKey});const y=yield l._send("alchemy_getTokenBalances",g,"getTokensForOwner"),M=y.tokenBalances.map(w=>({contractAddress:w.contractAddress,rawBalance:O.from(w.tokenBalance).toString()})),E=yield Promise.all(y.tokenBalances.map(w=>l._send("alchemy_getTokenMetadata",[w.contractAddress],"getTokensForOwner",!0)));return{tokens:M.map((w,x)=>Object.assign(Object.assign(Object.assign({},w),E[x]),{balance:E[x].decimals!==null?Gn(w.rawBalance,E[x].decimals):void 0})).map(pe),pageKey:y.pageKey}})}getTokenMetadata(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[t],"getTokenMetadata")})}getAssetTransfers(t){return _(this,void 0,void 0,function*(){return Xe(this.config,t)})}getTransactionReceipts(t){return _(this,void 0,void 0,function*(){return In(this.config,t)})}resolveName(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(t)})}lookupAddress(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(t)})}}function Wr(e,t,r,n){return _(this,void 0,void 0,function*(){if(e>=t)return t;const l=Math.floor((e+t)/2);return(yield(yield n.getProvider()).getCode(r,l))===ns?Wr(l+1,t,r,n):Wr(e,l,r,n)})}class _a{constructor(t){this.config=t}traceCall(t,r,n){return _(this,void 0,void 0,function*(){const l=yield this.config.getProvider(),o=[t,r,Se(n)];return l._send("debug_traceCall",o,"traceCall")})}traceTransaction(t,r,n){return _(this,void 0,void 0,function*(){const l=yield this.config.getProvider(),o=[t,Se(r,n)];return l._send("debug_traceTransaction",o,"traceTransaction")})}traceBlock(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getProvider();let l,o;return Ft(t,32)?(l="debug_traceBlockByHash",o=[t,Se(r)]):(l="debug_traceBlockByNumber",o=[typeof t=="number"?Un(Us(t)):t,Se(r)]),n._send(l,o,"traceBlock")})}}function Se(e,t){return Object.assign({tracer:e.type},e.onlyTopCall!==void 0&&{tracerConfig:{onlyTopCall:e.onlyTopCall,timeout:t}})}function Aa(e){if(e===qt.ERC1155||e===qt.ERC721)return e}var St;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.SILENT=4]="SILENT"})(St||(St={}));St.DEBUG,St.INFO,St.WARN,St.ERROR,St.SILENT;const Ta={[St.DEBUG]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},Na=St.INFO;function fs(e,...t){si.debug(e,t)}function Pn(e,...t){si.info(e,t)}function jl(e,...t){si.warn(e,t)}class ba{constructor(){this._logLevel=Na}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in St))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}debug(...t){this._log(St.DEBUG,...t)}info(...t){this._log(St.INFO,...t)}warn(...t){this._log(St.WARN,...t)}error(...t){this._log(St.ERROR,...t)}_log(t,...r){if(t<this._logLevel)return;const n=new Date().toISOString(),l=Ta[t];if(l)console[l](`[${n}] Alchemy:`,...r.map(Ra));else throw new Error(`Logger received an invalid logLevel (value: ${t})`)}}function Ra(e){if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return e}}const si=new ba,xa="2.8.3";function Sa(e,t,r,n,l){var o;const g=e+"/"+t,y=Object.assign(Object.assign({},l),{headers:Object.assign(Object.assign(Object.assign({},l==null?void 0:l.headers),!pa&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":xa,"Alchemy-Ethers-Sdk-Method":r}),method:(o=l==null?void 0:l.method)!==null&&o!==void 0?o:"GET",url:g,params:n});return rs(y)}const Oa=1e3,Ia=1.5,Pa=30*1e3,ka=5;class Ca{constructor(t=ka){this.maxAttempts=t,this.initialDelayMs=Oa,this.backoffMultiplier=Ia,this.maxDelayMs=Pa,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(new Error("A backoff operation is already in progress"));const t=this.withJitterMs(this.currentDelayMs);return t>0&&fs("ExponentialBackoff.backoff",`Backing off for ${t}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(r=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,r()},t)})}withJitterMs(t){return Math.min(t+(Math.random()-.5)*t,this.maxDelayMs)}}function _t(e,t,r,n,l,o){return _(this,void 0,void 0,function*(){let g;const y=new Ca(e.maxRetries);for(let M=0;M<e.maxRetries+1;M++)try{g!==void 0&&Pn("requestHttp",`Retrying after error: ${g.message}`);try{yield y.backoff()}catch{break}const E=yield Sa(e._getRequestUrl(t),r,n,l,Object.assign(Object.assign({},o),{timeout:e.requestTimeout}));if(E.status===200)return fs(r,`Successful request: ${r}`),E.data;Pn(r,`Request failed: ${r}, ${E.status}, ${E.data}`),g=new Error(E.status+": "+E.data)}catch(E){if(!rs.isAxiosError(E)||E.response===void 0)throw E;if(g=new Error(E.response.status+": "+E.response.data),!Fa(E,t))break}return Promise.reject(g)})}function Fa(e,t){const r=t===B.WEBHOOK?[429,500]:[429];return e.response!==void 0&&r.includes(e.response.status)}function hs(e,t,r,n,l,o,g){return ri(this,arguments,function*(){let M=!0;const E=Object.assign({},g);for(;M;){const A=yield Jt(_t(e,t,r,n,E));yield yield Jt(A),A[o]!==void 0?E[l]=A[o]:M=!1}})}function ds(e,t,r,n,l="getNftMetadata"){return _(this,void 0,void 0,function*(){const o=yield _t(e,B.NFT,"getNFTMetadata",l,{contractAddress:t,tokenId:O.from(r).toString(),tokenType:Aa(n==null?void 0:n.tokenType),tokenUriTimeoutInMs:n==null?void 0:n.tokenUriTimeoutInMs,refreshCache:n==null?void 0:n.refreshCache});return xe(o)})}function cs(e,t,r){return _(this,void 0,void 0,function*(){const n={tokens:t,tokenUriTimeoutInMs:r==null?void 0:r.tokenUriTimeoutInMs,refreshCache:r==null?void 0:r.refreshCache};return(yield _t(e,B.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:n})).map(xe)})}function Ua(e,t,r="getContractMetadata"){return _(this,void 0,void 0,function*(){const n=yield _t(e,B.NFT,"getContractMetadata",r,{contractAddress:t});return ii(n)})}function Ba(e,t){return _(this,void 0,void 0,function*(){return(yield _t(e,B.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:t}})).map(ii)})}function Da(e,t,r,n="getNftsForOwnerIterator"){return ri(this,arguments,function*(){var o,g;const y=Qe(r==null?void 0:r.omitMetadata);try{for(var M=is(hs(e,B.NFT,"getNFTs",n,"pageKey","pageKey",{contractAddresses:r==null?void 0:r.contractAddresses,pageKey:r==null?void 0:r.pageKey,filters:r==null?void 0:r.excludeFilters,owner:t,withMetadata:y})),E;E=yield Jt(M.next()),!E.done;){const A=E.value;for(const w of A.ownedNfts)yield yield Jt(Object.assign(Object.assign({},vs(w)),{balance:parseInt(w.balance)}))}}catch(A){o={error:A}}finally{try{E&&!E.done&&(g=M.return)&&(yield Jt(g.call(M)))}finally{if(o)throw o.error}}})}function He(e,t,r,n="getNftsForOwner"){return _(this,void 0,void 0,function*(){const l=Qe(r==null?void 0:r.omitMetadata),o=yield _t(e,B.NFT,"getNFTs",n,{contractAddresses:r==null?void 0:r.contractAddresses,pageKey:r==null?void 0:r.pageKey,filters:r==null?void 0:r.excludeFilters,excludeFilters:r==null?void 0:r.excludeFilters,includeFilters:r==null?void 0:r.includeFilters,owner:t,pageSize:r==null?void 0:r.pageSize,withMetadata:l,tokenUriTimeoutInMs:r==null?void 0:r.tokenUriTimeoutInMs,orderBy:r==null?void 0:r.orderBy});return{ownedNfts:o.ownedNfts.map(g=>Object.assign(Object.assign({},vs(g)),{balance:parseInt(g.balance)})),pageKey:o.pageKey,totalCount:o.totalCount,blockHash:o.blockHash}})}function La(e,t,r,n="getNftsForContract"){var l;return _(this,void 0,void 0,function*(){const o=Qe(r==null?void 0:r.omitMetadata),g=yield _t(e,B.NFT,"getNFTsForCollection",n,{contractAddress:t,startToken:r==null?void 0:r.pageKey,withMetadata:o,limit:(l=r==null?void 0:r.pageSize)!==null&&l!==void 0?l:void 0,tokenUriTimeoutInMs:r==null?void 0:r.tokenUriTimeoutInMs});return{nfts:g.nfts.map(y=>gs(y,t)),pageKey:g.nextToken}})}function qa(e,t,r,n="getNftsForContractIterator"){return ri(this,arguments,function*(){var o,g;const y=Qe(r==null?void 0:r.omitMetadata);try{for(var M=is(hs(e,B.NFT,"getNFTsForCollection",n,"startToken","nextToken",{contractAddress:t,startToken:r==null?void 0:r.pageKey,withMetadata:y})),E;E=yield Jt(M.next()),!E.done;){const A=E.value;for(const w of A.nfts)yield yield Jt(gs(w,t))}}catch(A){o={error:A}}finally{try{E&&!E.done&&(g=M.return)&&(yield Jt(g.call(M)))}finally{if(o)throw o.error}}})}function Ga(e,t,r,n="getOwnersForContract"){return _(this,void 0,void 0,function*(){const l=yield _t(e,B.NFT,"getOwnersForCollection",n,Object.assign(Object.assign({},r),{contractAddress:t}));return Object.assign({owners:l.ownerAddresses},l.pageKey!==void 0&&{pageKey:l.pageKey})})}function Ha(e,t,r,n="getContractsForOwner"){return _(this,void 0,void 0,function*(){const l=yield _t(e,B.NFT,"getContractsForOwner",n,{owner:t,excludeFilters:r==null?void 0:r.excludeFilters,includeFilters:r==null?void 0:r.includeFilters,pageKey:r==null?void 0:r.pageKey,pageSize:r==null?void 0:r.pageSize,orderBy:r==null?void 0:r.orderBy});return da(l)})}function Ka(e,t,r,n,l="getOwnersForNft"){return _(this,void 0,void 0,function*(){return _t(e,B.NFT,"getOwnersForToken",l,Object.assign({contractAddress:t,tokenId:O.from(r).toString()},n))})}function ja(e,t,r){return _(this,void 0,void 0,function*(){const l=yield(yield e.getProvider())._getAddress(t),o=ms(r==null?void 0:r.tokenType),g={fromBlock:"0x0",fromAddress:Zo,toAddress:l,excludeZeroValue:!0,contractAddresses:r==null?void 0:r.contractAddresses,category:o,maxCount:100,pageKey:r==null?void 0:r.pageKey},y=yield Xe(e,g,"getMintedNfts");return oi(e,y)})}function za(e,t,r,n){return _(this,void 0,void 0,function*(){const o=yield(yield e.getProvider())._getAddress(t),g=ms(n==null?void 0:n.tokenType),y={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:n==null?void 0:n.contractAddresses,category:g,maxCount:100,pageKey:n==null?void 0:n.pageKey};r===Kr.TO?y.toAddress=o:y.fromAddress=o;const M=yield Xe(e,y,"getTransfersForOwner");return oi(e,M)})}function Wa(e,t,r){return _(this,void 0,void 0,function*(){const n=[jt.ERC721,jt.ERC1155,jt.SPECIALNFT],l=yield e.getProvider(),o=r!=null&&r.fromBlock?l.formatter.blockTag(yield l._getBlockTag(r.fromBlock)):"0x0",g=r!=null&&r.toBlock?l.formatter.blockTag(yield l._getBlockTag(r.toBlock)):void 0,y={fromBlock:o,toBlock:g,excludeZeroValue:!0,contractAddresses:[t],order:r==null?void 0:r.order,category:n,maxCount:100,pageKey:r==null?void 0:r.pageKey},M=yield Xe(e,y,"getTransfersForContract");return oi(e,M)})}function ms(e){switch(e){case qt.ERC721:return[jt.ERC721];case qt.ERC1155:return[jt.ERC1155];default:return[jt.ERC721,jt.ERC1155,jt.SPECIALNFT]}}function $a(e){return e.erc1155Metadata.map(t=>({contractAddress:e.rawContract.address,tokenId:t.tokenId,tokenType:qt.ERC1155}))}function Va(e,t,r,n="checkNftOwnership"){return _(this,void 0,void 0,function*(){if(r.length===0)throw new Error("Must provide at least one contract address");return(yield He(e,t,{contractAddresses:r,omitMetadata:!0},n)).ownedNfts.length>0})}function Ja(e,t,r,n="verifyNftOwnership"){return _(this,void 0,void 0,function*(){if(typeof r=="string")return(yield He(e,t,{contractAddresses:[r],omitMetadata:!0},n)).ownedNfts.length>0;{if(r.length===0)throw new Error("Must provide at least one contract address");const l=yield He(e,t,{contractAddresses:r,omitMetadata:!0},n),o=r.reduce((g,y)=>(g[y]=!1,g),{});for(const g of l.ownedNfts)o[g.contract.address]=!0;return o}})}function Ya(e,t,r="isSpamContract"){return _(this,void 0,void 0,function*(){return _t(e,B.NFT,"isSpamContract",r,{contractAddress:t})})}function Za(e,t="getSpamContracts"){return _(this,void 0,void 0,function*(){return _t(e,B.NFT,"getSpamContracts",t,void 0)})}function Xa(e,t,r="getFloorPrice"){return _(this,void 0,void 0,function*(){return _t(e,B.NFT,"getFloorPrice",r,{contractAddress:t})})}function Qa(e,t={},r="getNftSales"){return _(this,void 0,void 0,function*(){const n=Object.assign({},t),l=yield _t(e,B.NFT,"getNFTSales",r,{fromBlock:n==null?void 0:n.fromBlock,toBlock:n==null?void 0:n.toBlock,order:n==null?void 0:n.order,marketplace:n==null?void 0:n.marketplace,contractAddress:n==null?void 0:n.contractAddress,tokenId:n!=null&&n.tokenId?O.from(n==null?void 0:n.tokenId).toString():void 0,sellerAddress:n==null?void 0:n.sellerAddress,buyerAddress:n==null?void 0:n.buyerAddress,taker:n==null?void 0:n.taker,limit:n==null?void 0:n.limit,pageKey:n==null?void 0:n.pageKey});return la(l)})}function tl(e,t,r,n="computeRarity"){return _(this,void 0,void 0,function*(){const l=yield _t(e,B.NFT,"computeRarity",n,{contractAddress:t,tokenId:O.from(r).toString()});return ha(l)})}function el(e,t,r="searchContractMetadata"){return _(this,void 0,void 0,function*(){return(yield _t(e,B.NFT,"searchContractMetadata",r,{query:t})).map(ii)})}function rl(e,t,r="summarizeNftAttributes"){return _(this,void 0,void 0,function*(){return _t(e,B.NFT,"summarizeNftAttributes",r,{contractAddress:t})})}function il(e,t,r,n="refreshNftMetadata"){return _(this,void 0,void 0,function*(){const l=O.from(r).toString(),o=yield ds(e,t,l,void 0,n),g=yield sl(e,t,l,n);return o.timeLastUpdated!==g.timeLastUpdated})}function nl(e,t,r="refreshContract"){return _(this,void 0,void 0,function*(){const n=yield _t(e,B.NFT,"reingestContract",r,{contractAddress:t});return{contractAddress:n.contractAddress,refreshState:al(n.reingestionState),progress:n.progress}})}function sl(e,t,r,n){return _(this,void 0,void 0,function*(){const l=yield _t(e,B.NFT,"getNFTMetadata",n,{contractAddress:t,tokenId:O.from(r).toString(),refreshCache:!0});return xe(l)})}function vs(e){return ps(e)?xe(e):ls(e)}function gs(e,t){return ps(e)?xe(e):ls(e,t)}function ps(e){return e.title!==void 0}function oi(e,t){return _(this,void 0,void 0,function*(){const r=t.transfers.filter(E=>E.rawContract.address!==null).flatMap(E=>{var A;const w=ol(E),x={from:E.from,to:(A=E.to)!==null&&A!==void 0?A:void 0,transactionHash:E.hash,blockNumber:E.blockNum};return w.map(F=>({metadata:x,token:F}))});if(r.length===0)return{nfts:[]};const n=100,l=[];for(let E=0;E<r.length;E+=n)l.push(r.slice(E,E+n));const g=(yield Promise.all(l.map(E=>cs(e,E.map(A=>A.token))))).flat(),y=new Map;return g.forEach(E=>{const A=`${E.contract.address}-${O.from(E.tokenId).toString()}`;y.set(A,E)}),{nfts:r.map(E=>{const A=`${E.token.contractAddress}-${O.from(E.token.tokenId).toString()}`;return Object.assign(Object.assign({},y.get(A)),E.metadata)}),pageKey:t.pageKey}})}function ol(e){return e.category===jt.ERC1155?$a(e):[{contractAddress:e.rawContract.address,tokenId:e.tokenId,tokenType:e.category===jt.ERC721?qt.ERC721:void 0}]}function Qe(e){return e===void 0?!0:!e}function al(e){switch(e){case"does_not_exist":return ne.DOES_NOT_EXIST;case"already_queued":return ne.ALREADY_QUEUED;case"in_progress":return ne.IN_PROGRESS;case"finished":return ne.FINISHED;case"queued":return ne.QUEUED;case"queue_failed":return ne.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+e)}}class ll{constructor(t){this.config=t}getNftMetadata(t,r,n,l){let o;return typeof n=="object"?o={tokenType:n.tokenType,tokenUriTimeoutInMs:n.tokenUriTimeoutInMs,refreshCache:n.refreshCache}:o={tokenType:n,tokenUriTimeoutInMs:l},ds(this.config,t,r,o)}getNftMetadataBatch(t,r){return cs(this.config,t,r)}getContractMetadata(t){return Ua(this.config,t)}getContractMetadataBatch(t){return Ba(this.config,t)}getNftsForOwnerIterator(t,r){return Da(this.config,t,r)}getNftsForOwner(t,r){return He(this.config,t,r)}getNftsForContract(t,r){return La(this.config,t,r)}getNftsForContractIterator(t,r){return qa(this.config,t,r)}getOwnersForContract(t,r){return Ga(this.config,t,r)}getOwnersForNft(t,r,n){return Ka(this.config,t,r,n)}getContractsForOwner(t,r){return Ha(this.config,t,r)}getTransfersForOwner(t,r,n){return za(this.config,t,r,n)}getTransfersForContract(t,r){return Wa(this.config,t,r)}getMintedNfts(t,r){return _(this,void 0,void 0,function*(){return ja(this.config,t,r)})}checkNftOwnership(t,r){return Va(this.config,t,r)}verifyNftOwnership(t,r){return Ja(this.config,t,r)}isSpamContract(t){return Ya(this.config,t)}getSpamContracts(){return Za(this.config)}getFloorPrice(t){return Xa(this.config,t)}getNftSales(t){return Qa(this.config,t)}computeRarity(t,r){return tl(this.config,t,r)}searchContractMetadata(t){return el(this.config,t)}summarizeNftAttributes(t){return rl(this.config,t)}refreshNftMetadata(t,r){return il(this.config,t,r)}refreshContract(t){return nl(this.config,t)}}class ul{constructor(t){this.config=t}getAllWebhooks(){return _(this,void 0,void 0,function*(){this.verifyConfig();const t=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:fl(t),totalCount:t.data.length}})}getAddresses(t,r){return _(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof t=="string"?t:t.id,l=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:n,limit:r==null?void 0:r.limit,after:r==null?void 0:r.pageKey});return hl(l)})}getGraphqlQuery(t){return _(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof t=="string"?t:t.id,n=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:r});return dl(n)})}getNftFilters(t,r){return _(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof t=="string"?t:t.id,l=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:n,limit:r==null?void 0:r.limit,after:r==null?void 0:r.pageKey});return cl(l)})}updateWebhook(t,r){return _(this,void 0,void 0,function*(){const n=typeof t=="string"?t:t.id;let l,o,g,y;if("isActive"in r)l="update-webhook",o="updateWebhook",g="PUT",y={webhook_id:n,is_active:r.isActive};else if("addFilters"in r||"removeFilters"in r)l="update-webhook-nft-filters",o="updateWebhookNftFilters",g="PATCH",y={webhook_id:n,nft_filters_to_add:r.addFilters?r.addFilters.map(Ie):[],nft_filters_to_remove:r.removeFilters?r.removeFilters.map(Ie):[]};else if("addMetadataFilters"in r||"removeMetadataFilters"in r)l="update-webhook-nft-metadata-filters",o="updateWebhookNftMetadataFilters",g="PATCH",y={webhook_id:n,nft_metadata_filters_to_add:r.addMetadataFilters?r.addMetadataFilters.map(Ie):[],nft_metadata_filters_to_remove:r.removeMetadataFilters?r.removeMetadataFilters.map(Ie):[]};else if("addAddresses"in r||"removeAddresses"in r)l="update-webhook-addresses",o="webhook:updateWebhookAddresses",g="PATCH",y={webhook_id:n,addresses_to_add:yield this.resolveAddresses(r.addAddresses),addresses_to_remove:yield this.resolveAddresses(r.removeAddresses)};else if("newAddresses"in r)l="update-webhook-addresses",o="webhook:updateWebhookAddress",g="PUT",y={webhook_id:n,addresses:yield this.resolveAddresses(r.newAddresses)};else throw new Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(l,o,{},{method:g,data:y})})}createWebhook(t,r,n){return _(this,void 0,void 0,function*(){let l;if(r===ee.MINED_TRANSACTION||r===ee.DROPPED_TRANSACTION){if(!("appId"in n))throw new Error("Transaction Webhooks require an app id.");l=n.appId}let o=Oe.get(this.config.network),g,y,M;if(r===ee.NFT_ACTIVITY||r===ee.NFT_METADATA_UPDATE){if(!("filters"in n)||n.filters.length===0)throw new Error("Nft Activity Webhooks require a non-empty array input.");o=n.network?Oe.get(n.network):o;const w=n.filters.map(x=>x.tokenId?{contract_address:x.contractAddress,token_id:O.from(x.tokenId).toString()}:{contract_address:x.contractAddress});g=r===ee.NFT_ACTIVITY?{nft_filters:w}:{nft_metadata_filters:w}}else if(r===ee.ADDRESS_ACTIVITY){if(n===void 0||!("addresses"in n)||n.addresses.length===0)throw new Error("Address Activity Webhooks require a non-empty array input.");o=n.network?Oe.get(n.network):o,y=yield this.resolveAddresses(n.addresses)}else if(r==ee.GRAPHQL){if(n===void 0||!("graphqlQuery"in n)||n.graphqlQuery.length===0)throw new Error("Custom Webhooks require a non-empty graphql query.");o=n.network?Oe.get(n.network):o,M=n.graphqlQuery}const E=Object.assign(Object.assign(Object.assign(Object.assign({network:o,webhook_type:r,webhook_url:t},l&&{app_id:l}),g),y&&{addresses:y}),M&&{graphql_query:M}),A=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:E});return ys(A.data)})}deleteWebhook(t){return _(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof t=="string"?t:t.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:r},{method:"DELETE"})))throw new Error(`Webhook not found. Failed to delete webhook: ${r}`)})}verifyConfig(){if(this.config.authToken===void 0)throw new Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(t,r,n,l){return _t(this.config,B.WEBHOOK,t,r,n,Object.assign(Object.assign({},l),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},l==null?void 0:l.headers)}))}resolveAddresses(t){return _(this,void 0,void 0,function*(){if(t===void 0)return[];const r=[],n=yield this.config.getProvider();for(const l of t){const o=yield n.resolveName(l);if(o===null)throw new Error(`Unable to resolve the ENS address: ${l}`);r.push(o)}return r})}}const $r={ETH_MAINNET:P.ETH_MAINNET,ETH_GOERLI:P.ETH_GOERLI,ETH_SEPOLIA:P.ETH_SEPOLIA,ETH_ROPSTEN:P.ETH_ROPSTEN,ETH_RINKEBY:P.ETH_RINKEBY,ETH_KOVAN:P.ETH_KOVAN,MATIC_MAINNET:P.MATIC_MAINNET,MATIC_MUMBAI:P.MATIC_MUMBAI,ARB_MAINNET:P.ARB_MAINNET,ARB_GOERLI:P.ARB_GOERLI,ARB_RINKEBY:P.ARB_RINKEBY,OPT_MAINNET:P.OPT_MAINNET,OPT_GOERLI:P.OPT_GOERLI,OPT_KOVAN:P.OPT_KOVAN},Oe=Object.keys(P).reduce((e,t)=>(t in $r&&e.set($r[t],t),e),new Map);function fl(e){return e.data.map(ys)}function ys(e){return Object.assign({id:e.id,network:$r[e.network],type:e.webhook_type,url:e.webhook_url,isActive:e.is_active,timeCreated:new Date(e.time_created).toISOString(),signingKey:e.signing_key,version:e.version},e.app_id!==void 0&&{appId:e.app_id})}function hl(e){return{addresses:e.data,totalCount:e.pagination.total_count,pageKey:e.pagination.cursors.after}}function dl(e){return{graphqlQuery:e.data.graphql_query}}function cl(e){return{filters:e.data.map(t=>t.token_id?{contractAddress:t.contract_address,tokenId:O.from(t.token_id).toString()}:{contractAddress:t.contract_address}),totalCount:e.pagination.total_count,pageKey:e.pagination.cursors.after}}function Ie(e){return e.tokenId?{contract_address:e.contractAddress,token_id:O.from(e.tokenId).toString()}:{contract_address:e.contractAddress}}const ml=[.9,1,1.1,1.2,1.3];class vl{constructor(t){this.config=t}sendPrivateTransaction(t,r,n){return _(this,void 0,void 0,function*(){const l=yield this.config.getProvider(),o=r?Ye(r):void 0;return l._send("eth_sendPrivateTransaction",[{tx:t,maxBlockNumber:o,preferences:n}],"sendPrivateTransaction")})}cancelPrivateTransaction(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:t}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),l=r!==void 0?[t,r]:[t],o=yield n._send("alchemy_simulateAssetChangesBundle",l,"simulateAssetChangesBundle");return pe(o)})}simulateAssetChanges(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),l=r!==void 0?[t,r]:[t],o=yield n._send("alchemy_simulateAssetChanges",l,"simulateAssetChanges");return pe(o)})}simulateExecutionBundle(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),l=r!==void 0?[t,r]:[t],o=n._send("alchemy_simulateExecutionBundle",l,"simulateExecutionBundle");return pe(o)})}simulateExecution(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getProvider(),l=r!==void 0?[t,r]:[t],o=n._send("alchemy_simulateExecution",l,"simulateExecution");return pe(o)})}getTransaction(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(t)})}sendTransaction(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(t)})}estimateGas(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(t)})}getMaxPriorityFeePerGas(){return _(this,void 0,void 0,function*(){const r=yield(yield this.config.getProvider())._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return oa(r)})}waitForTransaction(t,r,n){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(t,r,n)})}sendGasOptimizedTransaction(t,r){return _(this,void 0,void 0,function*(){if(Array.isArray(t))return this._sendGasOptimizedTransaction(t,"sendGasOptimizedTransactionPreSigned");let n,l,o;const g=yield this.config.getProvider();try{n=yield this.estimateGas(t),l=yield this.getMaxPriorityFeePerGas(),o=(yield g.getBlock("latest")).baseFeePerGas.toNumber()}catch(E){throw new Error(`Failed to estimate gas for transaction: ${E}`)}const y=gl(t,n.toNumber(),o,l),M=yield Promise.all(y.map(E=>r.signTransaction(E)));return this._sendGasOptimizedTransaction(M,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(t){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[t],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(t,r){return _(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:t}],r)})}}function gl(e,t,r,n){return ml.map(l=>Object.assign(Object.assign({},e),{gasLimit:t,maxFeePerGas:Math.round(r*l+n*l),maxPriorityFeePerGas:Math.round(l*n)}))}const Ke="alchemy-pending-transactions",je="alchemy-mined-transactions",pl=[Ke,je];class yl{constructor(t,r,n){this.listener=r,this.tag=t,this.once=n,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");if(t[0]!=="tx")throw new Error("Not a transaction event");return t[1]}get filter(){const t=this.tag.split(":");if(t[0]!=="filter")throw new Error("Not a transaction event");const r=t[1],n=_l(t[2]),l={};return n.length>0&&(l.topics=n),r&&r!=="*"&&(l.address=r),l}pollable(){const t=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||t.indexOf(this.tag)>=0}}class zl extends yl{get fromAddress(){const t=this.tag.split(":");if(t[0]===Ke&&t[1]&&t[1]!=="*")return kn(t[1])}get toAddress(){const t=this.tag.split(":");if(t[0]===Ke&&t[2]&&t[2]!=="*")return kn(t[2])}get hashesOnly(){const t=this.tag.split(":");if(pl.includes(t[0])&&t[3]&&t[3]!=="*")return t[3]==="true"}get includeRemoved(){const t=this.tag.split(":");if(t[0]===je&&t[2]&&t[2]!=="*")return t[2]==="true"}get addresses(){const t=this.tag.split(":");if(t[0]===je&&t[1]&&t[1]!=="*")return Al(t[1])}}function Es(e){return typeof e=="object"&&"method"in e}function Wl(e){if(!Es(e))throw new Error("Event tag requires AlchemyEventType");if(e.method===se.PENDING_TRANSACTIONS)return El(e);if(e.method===se.MINED_TRANSACTIONS)return wl(e);throw new Error(`Unrecognized AlchemyFilterEvent: ${e}`)}function $l(e){if(!Object.values(se).includes(e.method))throw new Error(`Invalid method name ${e.method}. Accepted method names: ${Object.values(se)}`)}function El(e){const t=ze(e.fromAddress),r=ze(e.toAddress),n=Vr(e.hashesOnly);return Ke+":"+t+":"+r+":"+n}function wl(e){const t=Ml(e.addresses),r=Vr(e.includeRemoved),n=Vr(e.hashesOnly);return je+":"+t+":"+r+":"+n}function Ml(e){return e===void 0?"*":e.map(t=>ze(t.to)+","+ze(t.from)).join("|")}function ze(e){return e===void 0?"*":Array.isArray(e)?e.join("|"):e}function Vr(e){return e===void 0?"*":e.toString()}function _l(e){return e===""?[]:e.split(/&/g).map(t=>{if(t==="")return[];const r=t.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function kn(e){if(e==="")return;const t=e.split("|");return t.length===1?t[0]:t}function Al(e){if(e!=="")return e.split("|").map(t=>t.split(",")).map(t=>Object.assign(Object.assign({},t[0]!=="*"&&{to:t[0]}),t[1]!=="*"&&{from:t[1]}))}class Tl{constructor(t){this.config=t}on(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),l=yield this._resolveEnsAlchemyEvent(t);n.on(l,r)}),this}once(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),l=yield this._resolveEnsAlchemyEvent(t);n.once(l,r)}),this}off(t,r){return _(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),l=yield this._resolveEnsAlchemyEvent(t);return n.off(l,r)}),this}removeAllListeners(t){return _(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),n=t?yield this._resolveEnsAlchemyEvent(t):void 0;r.removeAllListeners(n)}),this}listenerCount(t){return _(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),n=t?yield this._resolveEnsAlchemyEvent(t):void 0;return r.listenerCount(n)})}listeners(t){return _(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),n=t?yield this._resolveEnsAlchemyEvent(t):void 0;return r.listeners(n)})}_resolveEnsAlchemyEvent(t){return _(this,void 0,void 0,function*(){if(!Es(t))return t;if(t.method===se.MINED_TRANSACTIONS&&t.addresses){const r=[];for(const n of t.addresses)n.to&&(n.to=yield this._resolveNameOrError(n.to)),n.from&&(n.from=yield this._resolveNameOrError(n.from)),r.push(n);t.addresses=r}else t.method===se.PENDING_TRANSACTIONS&&(t.fromAddress&&(typeof t.fromAddress=="string"?t.fromAddress=yield this._resolveNameOrError(t.fromAddress):t.fromAddress=yield Promise.all(t.fromAddress.map(r=>this._resolveNameOrError(r)))),t.toAddress&&(typeof t.toAddress=="string"?t.toAddress=yield this._resolveNameOrError(t.toAddress):t.toAddress=yield Promise.all(t.toAddress.map(r=>this._resolveNameOrError(r)))));return t})}_resolveNameOrError(t){return _(this,void 0,void 0,function*(){const n=yield(yield this.config.getProvider()).resolveName(t);if(n===null)throw new Error(`Unable to resolve the ENS address: ${t}`);return n})}}class Nl{constructor(t){this.config=new Xo(t),this.core=new Ma(this.config),this.nft=new ll(this.config),this.ws=new Tl(this.config),this.transact=new vl(this.config),this.notify=new ul(this.config),this.debug=new _a(this.config)}}const{Content:bl}=Rs,{TextArea:Rl}=Ce,xl="NVYaqYt6tog9skB5J73S6_5pZwfd1kJR",Sl={apiKey:xl,network:P.ETH_MAINNET},ws=new Nl(Sl);async function Pe(e,t){try{let r=await ws.core.getBalance(e,"latest");return r=zs(r),r=(+r).toFixed(4),r}catch(r){return console.error(r),"Error"}}async function ke(e){try{let t="0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",r="0x0000000000A39bb272e79075ade125fd351887Ac",n=await ws.core.getTokenBalances(e,[t,r]),l=n.tokenBalances[0].tokenBalance,o=n.tokenBalances[1].tokenBalance;return{weth_balance:(parseInt(l,16)/10**18).toFixed(4),blur_balance:(parseInt(o,16)/10**18).toFixed(4)}}catch(t){return console.error(t),{weth_balance:"Error",blur_balance:"Error"}}}function Ol(){const[e,t]=Ht.useState(0),[r,n]=Ht.useState(0),[l,o]=Ht.useState(!1),[g,y]=Ht.useState([]),[M,E]=Ht.useState(!1),[A]=fe.useForm(),[w,x]=Ht.useState([]),[F]=fe.useForm(),[Bt,Dt]=Ht.useState(!1),[Gt,zt]=Ht.useState(!1),[Wt,re]=Ht.useState(!1);Ht.useEffect(()=>{t(0)},[]);const S=async()=>{try{const f=await F.validateFields();if(f.address.length!==42){de.error({message:"error",description:"Please enter valid address"},2);return}Dt(!1);const d=g.findIndex(v=>v.address===f.address);if(d!==-1){y(g.map((p,h)=>h===d?{...p,name:f.name}:p));const v=[...g];Pe(f.address,"ethereum").then(p=>{v[d]={...v[d],eth_balance:p},y(v),localStorage.setItem("addresses",JSON.stringify(g))}),ke(f.address).then(({weth_balance:p,blur_balance:h})=>{v[d]={...v[d],weth_balance:p,blur_balance:h},y(v),localStorage.setItem("addresses",JSON.stringify(g))})}else{const v={key:g.length.toString(),name:f.name,address:f.address,eth_balance:null,weth_balance:null,blur_balance:null},p=[...g,v];y(p),Pe(f.address,"ethereum").then(h=>{v.eth_balance=h,y([...p]),localStorage.setItem("addresses",JSON.stringify(p))}),ke(f.address).then(({weth_balance:h,blur_balance:s})=>{v.weth_balance=h,v.blur_balance=s,y([...p]),localStorage.setItem("addresses",JSON.stringify(p))})}}catch(f){de.error({message:"ERROR",description:f.message},2)}finally{F.resetFields()}},ae=async()=>{if(!w.length){de.error({message:"ERROR",description:"Please select which address to REFRESH"},2);return}zt(!0);try{let d=0,v=[];const p=[...g],h=()=>{for(;d<50&&v.length>0;){const s=v.shift();d+=1,s().finally(()=>{d-=1,h()})}};for(let s of w){const c=p.findIndex(T=>T.key===s);if(c!==-1){const T=p[c];v.push(()=>(T.eth_balance=null,Pe(T.address,"ethereum").then(N=>{T.eth_balance=N,y([...p]),localStorage.setItem("addresses",JSON.stringify(p))}))),v.push(()=>(T.weth_balance=null,T.blur_balance=null,ke(T.address).then(({weth_balance:N,blur_balance:b})=>{T.weth_balance=N,T.blur_balance=b,y([...p]),localStorage.setItem("addresses",JSON.stringify(p))})))}h()}for(;d>0||v.length>0;)await new Promise(s=>setTimeout(s,100))}catch(f){de.error({message:"ERROR",description:f.message},2)}finally{zt(!1),x([]),xi.success("REFRESH SUCCESSFULLY")}},Ot=async()=>{try{o(!0),E(!1);const d=(await A.validateFields()).addresses.split(`
`);n(d.length);const v=[...g],p=50;let h=0,s=[];t(0);const c=()=>{for(;s.length>0&&h<p;){const T=s.shift();h+=1,T().finally(()=>{h-=1,c()})}};for(let T of d){let N="",b="";if(T.indexOf(",")!=-1?(N=T.split(",")[0].trim(),b=T.split(",")[1].trim()):b=T.trim(),b.length!==42){de.error({message:"Error",description:"Please enter valid address"});continue}let Tt=()=>new Promise((Yt,D)=>{t(L=>L+1),Yt()});const C=v.findIndex(Yt=>Yt.address===b),U=C!==-1?v[C]:{key:v.length.toString(),name:N,address:b,eth_balance:null,weth_balance:null,blur_balance:null};C===-1&&v.push(U),s.push(()=>Pe(b,"ethereum").then(Yt=>{U.eth_balance=Yt})),s.push(()=>ke(b).then(({weth_balance:Yt,blur_balance:D})=>{U.weth_balance=Yt,U.blur_balance=D})),s.push(Tt),c()}for(;h>0||s.length>0;)await new Promise(T=>setTimeout(T,100));y(v),localStorage.setItem("addresses",JSON.stringify(v))}catch(f){de.error({message:"ERROR",description:f.message})}finally{o(!1),t(0),A.resetFields(),x([]),xi.success("Batch Import Address Successfully")}},Xt=()=>{Dt(!0)},le=()=>{E(!0)};Ht.useEffect(()=>{re(!0);const f=localStorage.getItem("addresses");setTimeout(()=>{re(!1)},500),f&&y(JSON.parse(f))},[]);const ue=()=>{Dt(!1)},Nt=f=>{y(g.filter(d=>d.key!==f)),localStorage.setItem("addresses",JSON.stringify(g.filter(d=>d.key!==f)))},k=()=>{if(!w.length){de.error({message:"ERROR",description:"Please select which address to delete"},2);return}y(g.filter(f=>!w.includes(f.key))),localStorage.setItem("addresses",JSON.stringify(g.filter(f=>!w.includes(f.key)))),x([])},bt={selectedRowKeys:w,onChange:f=>{x(f)}},m=()=>{E(!1)},[i,a]=Ht.useState(null),u=[{title:"ETH MODULE",key:"eth_group",className:"main_eth",children:[{title:"#",key:"index",align:"center",render:(f,d,v)=>v+1},{title:"Name Tags",dataIndex:"name",key:"name",align:"center",render:(f,d)=>d.key===i?R.jsx(Ce,{placeholder:"Please Enter Name Tag",defaultValue:f,onPressEnter:p=>{d.name=p.target.value,y([...g]),localStorage.setItem("addresses",JSON.stringify(g)),a(null)}}):R.jsxs(R.Fragment,{children:[R.jsx(xs,{color:"blue",children:f}),R.jsx(me,{shape:"circle",icon:R.jsx(Ss,{}),size:"small",onClick:()=>a(d.key)})]})},{title:"Wallet Address",dataIndex:"address",key:"address",align:"center",render:(f,d)=>f||R.jsx(Me,{})},{title:"ETH",dataIndex:"eth_balance",key:"eth_balance",align:"center",render:(f,d)=>f===null?R.jsx(Me,{}):f},{title:"WETH",dataIndex:"weth_balance",key:"weth_balance",align:"center",render:(f,d)=>f===null?R.jsx(Me,{}):f},{title:"BLUR",dataIndex:"blur_balance",key:"blur_balance",align:"center",render:(f,d)=>f===null?R.jsx(Me,{}):f},{title:"Action",key:"action",align:"center",render:(f,d)=>R.jsx(Os,{size:"small",children:R.jsx(bi,{title:"Confirm Deletion",onConfirm:()=>Nt(d.key),children:R.jsx(me,{icon:R.jsx(Ri,{})})})})}]}];return R.jsx("div",{children:R.jsxs(bl,{children:[R.jsx(Ni,{title:"Batch Import Addresses",open:M,onOk:Ot,onCancel:m,okButtonProps:{loading:Gt},okText:"Add Addresses",cancelText:"Cancel",children:R.jsx(fe,{form:A,layout:"vertical",children:R.jsx(fe.Item,{label:"Name,Addresses",name:"addresses",rules:[{required:!0}],children:R.jsx(Rl,{placeholder:"2 formats accepted:- (i)Address only or (ii)Name,Address (separate by comma)",style:{width:"500px",height:"300px"}})})})}),R.jsx(Ni,{title:"Add Address",open:Bt,onOk:S,onCancel:ue,okButtonProps:{loading:Gt},okText:"Add Address",cancelText:"Cancel",children:R.jsxs(fe,{form:F,layout:"vertical",children:[R.jsx(fe.Item,{label:"Address",name:"address",rules:[{required:!0}],children:R.jsx(Ce,{placeholder:"Please enter address"})}),R.jsx(fe.Item,{label:"Name Tag",name:"name",children:R.jsx(Ce,{placeholder:"Please enter name tag"})})]})}),R.jsx(Me,{spinning:Wt,children:R.jsx(he,{rowSelection:bt,dataSource:g,pagination:!1,bordered:!0,style:{marginBottom:"20px",zIndex:2},size:"small",columns:u,summary:f=>{let d=0,v=0,p=0,h=0;return f.forEach(({eth_balance:s,weth_balance:c,blur_balance:T})=>{d+=Number(s),v+=Number(c),p+=Number(T),h=d+v+p}),R.jsx(R.Fragment,{children:R.jsxs(he.Summary.Row,{children:[R.jsx(he.Summary.Cell,{index:0,colSpan:4,children:"TOTAL"}),R.jsx(he.Summary.Cell,{index:4,children:d.toFixed(4)}),R.jsx(he.Summary.Cell,{index:5,children:v.toFixed(4)}),R.jsx(he.Summary.Cell,{index:6,children:p.toFixed(4)}),R.jsxs(he.Summary.Cell,{index:7,children:["ALL : ",h.toFixed(4)]})]})})},footer:()=>R.jsx(As,{children:R.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"10px"},children:[R.jsx(me,{type:"primary",onClick:Xt,size:"large",style:{width:"20%"},icon:R.jsx(Ts,{}),children:"Add Address"}),R.jsx(me,{type:"primary",onClick:le,size:"large",style:{width:"20%"},icon:R.jsx(Ns,{}),loading:l,children:l?`Bulk Progress:(${e}/${r})`:"Bulk Import Addresses"}),R.jsx(me,{type:"primary",onClick:ae,loading:Gt,size:"large",style:{width:"20%"},icon:R.jsx(bs,{}),children:Gt?"Refreshing":"Refresh Selected Address"}),R.jsx(bi,{title:"Confirm delete "+w.length+" address",onConfirm:k,children:R.jsx(me,{type:"primary",danger:!0,size:"large",style:{width:"20%"},icon:R.jsx(Ri,{}),children:"Delete Selected Address"})})]})})})})]})})}const Vl=Object.freeze(Object.defineProperty({__proto__:null,default:Ol},Symbol.toStringTag,{value:"Module"}));export{pl as A,O as B,Hl as C,jo as D,Ol as E,jl as F,Sn as G,Vo as H,pa as I,ql as J,Vl as K,Ct as L,P as N,xa as V,_,zl as a,Ke as b,se as c,je as d,Gl as e,oa as f,Wl as g,ce as h,Es as i,kl as j,It as k,Cs as l,Ll as m,Kl as n,Ul as o,Ft as p,_e as q,Bl as r,Cl as s,Ye as t,Gs as u,$l as v,Dl as w,Fl as x,Us as y,zo as z};
